# 在线购物系统 Selenium 自动化测试运行指南

## 1. 环境要求

- JDK 11
- Maven 3.6+
- Chrome 浏览器（最新版本或兼容版本）
- Windows 操作系统

## 2. 测试准备

### 2.1 启动系统服务

在运行测试之前，请确保后端服务和前端服务已经启动。可以使用以下脚本启动：
run-selenium-tests.bat

### 2.2 验证服务是否正常运行

- 后端服务：访问 `http://localhost:8080` 应显示API文档或状态信息
- 前端服务：访问 `http://localhost` 应显示在线购物系统首页

## 3. 测试用例概述

测试用例基于 `在线购物网站-第5组-分组查看用例.csv`，主要包含以下测试模块：

### 3.1 管理员模块测试（AdminLoginTest.java）
- 用例ID：18561 - 管理员登录系统
- 用例ID：18562 - 管理员退出登录

### 3.2 客户注册模块测试（CustomerRegistrationTest.java）
- 用例ID：18551 - 客户注册
- 用例ID：18552 - 登录后查看个人信息

### 3.3 商品管理模块测试（ProductManagementTest.java）
- 用例ID：18563 - 批量发布商品
- 用例ID：18564 - 增加/减少批量发布商品行数
- 用例ID：18565 - 上架商品

### 3.4 客户管理模块测试（CustomerManagementTest.java）
- 用例ID：18566 - 查看客户购买历史
- 用例ID：18567 - 查看客户详细信息
- 用例ID：18568 - 客户搜索

## 4. 测试运行方式

### 4.1 使用 Maven 命令运行测试

可以使用以下 Maven 命令运行特定的测试类：

```bash
# 进入后端目录
cd f:\作业\Software-Engineering2.0\litemall\simple-shop-backend\backend

# 运行所有测试
mvn test

# 运行特定的测试类
mvn test -Dtest=com.shop.test.selenium.A.AdminLoginTest
mvn test -Dtest=com.shop.test.selenium.A.CustomerRegistrationTest
mvn test -Dtest=com.shop.test.selenium.A.ProductManagementTest
mvn test -Dtest=com.shop.test.selenium.A.CustomerManagementTest
```

### 4.2 使用批处理脚本运行测试

使用提供的 `run-selenium-tests.bat` 脚本可以一键运行所有 Selenium 测试。

## 5. 测试结果查看

测试完成后，可以在以下位置查看测试结果：
- 控制台输出：测试运行时的日志信息
- 测试报告：在 `target/surefire-reports` 目录下，包含每个测试类的详细执行结果
- 测试截图：在 `target/screenshots` 目录下，包含失败测试的屏幕截图

## 6. 常见问题与解决方案

### 6.1 ChromeDriver 版本不匹配

如果遇到 ChromeDriver 与 Chrome 浏览器版本不匹配的问题，可以尝试更新项目依赖中的 WebDriverManager 版本或更新 Chrome 浏览器。

### 6.2 测试失败

- 确保系统服务已正确启动
- 检查测试数据是否正确
- 查看测试日志以确定具体失败原因

### 6.3 页面元素定位失败

如果测试中出现页面元素定位失败，可能是因为页面结构发生了变化，需要更新测试代码中的元素定位器。

## 7. 测试配置说明

### 7.1 浏览器配置

测试代码使用 WebDriverManager 自动管理浏览器驱动，无需手动下载。

### 7.2 测试超时设置

测试中设置了适当的超时时间，确保测试在合理的时间内完成。

## 8. 注意事项

- 运行测试时，请确保浏览器没有被占用
- 建议在运行测试前关闭其他占用网络资源的应用程序
- 测试过程中尽量不要操作电脑，以免影响测试结果

## 9. 测试维护

- 当系统界面发生变化时，需要更新测试代码中的元素定位器
- 当测试用例发生变化时，需要相应地更新测试代码
- 定期更新 Selenium 和 WebDriverManager 依赖以保持兼容性