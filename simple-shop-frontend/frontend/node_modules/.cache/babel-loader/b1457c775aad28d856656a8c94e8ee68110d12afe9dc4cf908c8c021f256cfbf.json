{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'HomeView',\n  data() {\n    return {\n      products: [],\n      categories: [],\n      subCategories: [],\n      selectedCategoryId: '',\n      selectedSubCategoryId: '',\n      currentProduct: null,\n      loading: true,\n      error: null,\n      showBuyForm: false,\n      buyer: {\n        name: '',\n        phone: '',\n        address: '',\n        notes: ''\n      },\n      buySuccess: false\n    };\n  },\n  created() {\n    // 获取分类和商品数据\n    this.fetchCategories();\n    this.fetchProducts();\n  },\n  watch: {\n    // 监听分类变化，加载对应的二级分类\n    selectedCategoryId(newVal) {\n      this.selectedSubCategoryId = ''; // 重置二级分类选择\n      this.loadSubCategories(newVal);\n      this.fetchProducts(); // 重新获取商品\n    },\n    // 监听二级分类变化，重新获取商品\n    selectedSubCategoryId() {\n      this.fetchProducts();\n    }\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        const response = await axios.get('http://localhost:8081/api/categories/active');\n        // 正确访问嵌套在data字段中的分类列表\n        this.categories = response.data.data || [];\n      } catch (error) {\n        console.error('获取分类信息失败:', error);\n      }\n    },\n    async loadSubCategories(categoryId) {\n      try {\n        // 如果选择了一级分类，加载对应的二级分类\n        if (categoryId) {\n          const response = await axios.get(`http://localhost:8081/api/sub-categories/category/${categoryId}`);\n          // SubCategoryController直接返回列表，不包含data字段\n          this.subCategories = Array.isArray(response.data) ? response.data : [];\n        } else {\n          // 如果没有选择一级分类，清空二级分类列表\n          this.subCategories = [];\n        }\n      } catch (error) {\n        console.error('获取二级分类信息失败:', error);\n        this.subCategories = [];\n      }\n    },\n    async fetchProducts() {\n      try {\n        this.loading = true;\n        let url = 'http://localhost:8081/api/products/active';\n\n        // 根据选择的分类构建请求URL\n        if (this.selectedSubCategoryId) {\n          // 如果选择了二级分类，使用二级分类查询接口\n          url = `http://localhost:8081/api/products/sub-category/${this.selectedSubCategoryId}`;\n        } else if (this.selectedCategoryId) {\n          // 如果只选择了一级分类，使用一级分类查询接口\n          url = `http://localhost:8081/api/products/category/${this.selectedCategoryId}`;\n        }\n        const response = await axios.get(url);\n        // 确保返回的是数组，考虑data字段嵌套结构\n        const data = response.data.data || response.data;\n        this.products = Array.isArray(data) ? data : [data].filter(Boolean);\n      } catch (error) {\n        console.error('获取商品信息失败:', error);\n        this.error = '获取商品信息失败，请稍后重试。';\n        this.products = [];\n      } finally {\n        this.loading = false;\n      }\n    },\n    handleImageError(event) {\n      // 当图片加载失败时，设置默认图片\n      event.target.src = 'https://img.pngsucai.com/00/87/02/31a2f72e4e901438.webp';\n    },\n    handleBuyClick(product) {\n      this.currentProduct = product;\n      this.showBuyForm = true;\n    },\n    async submitBuy() {\n      // 再次检查用户是否已登录（防止绕过前端验证）\n      if (!localStorage.getItem('customerLoggedIn')) {\n        this.error = '未登录，跳转至登录界面';\n        // 2秒后跳转到登录页面\n        setTimeout(() => {\n          this.$router.push('/login');\n        }, 2000);\n        return;\n      }\n      try {\n        // 获取当前登录的用户名\n        const username = localStorage.getItem('customerUsername');\n        // 发送请求时携带用户名作为请求头\n        await this.$axios.post(`/api/buyers/product/${this.currentProduct.id}`, this.buyer, {\n          headers: {\n            'X-Username': username\n          }\n        });\n        this.buySuccess = true;\n        this.showBuyForm = false;\n        // 刷新商品列表\n        this.fetchProducts();\n        // 5秒后自动隐藏成功提示\n        setTimeout(() => {\n          this.buySuccess = false;\n        }, 5000);\n      } catch (err) {\n        this.error = '提交购买意向失败';\n        console.error(err);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","products","categories","subCategories","selectedCategoryId","selectedSubCategoryId","currentProduct","loading","error","showBuyForm","buyer","phone","address","notes","buySuccess","created","fetchCategories","fetchProducts","watch","newVal","loadSubCategories","methods","response","get","console","categoryId","Array","isArray","url","filter","Boolean","handleImageError","event","target","src","handleBuyClick","product","submitBuy","localStorage","getItem","setTimeout","$router","push","username","$axios","post","id","headers","err"],"sources":["E:\\Software-Engineering2.0\\Software-Engineering-9bea62c8ef6d7754a2d932a0227f9bc4fff09a3c\\litemall\\simple-shop-frontend\\frontend\\src\\views\\HomeView.vue"],"sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div v-if=\"loading\" class=\"loading\">加载中...</div>\r\n\r\n    <div v-if=\"error\" class=\"alert alert-danger\">\r\n      {{ error }}\r\n    </div>\r\n\r\n    <!-- 分类筛选区域 -->\r\n    <div class=\"filter-section card\">\r\n      <h3>商品分类筛选</h3>\r\n      <div class=\"filter-form\">\r\n        <div class=\"filter-group\">\r\n          <label for=\"category\">一级分类</label>\r\n          <select id=\"category\" v-model=\"selectedCategoryId\">\r\n            <option value=\"\">全部分类</option>\r\n            <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\r\n              {{ category.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"filter-group\">\r\n          <label for=\"subCategory\">二级分类</label>\r\n          <select id=\"subCategory\" v-model=\"selectedSubCategoryId\">\r\n            <option value=\"\">全部子分类</option>\r\n            <option v-for=\"subCategory in subCategories\" :key=\"subCategory.id\" :value=\"subCategory.id\">\r\n              {{ subCategory.name }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 商品列表区域 -->\r\n    <div class=\"products-container\" v-if=\"!loading\">\r\n      <!-- 只有当 products 数组有数据时，才显示商品卡片列表 -->\r\n      <div class=\"product-list\" v-if=\"products.length > 0\">\r\n        <div class=\"product-card card\" v-for=\"product in products\" :key=\"product.id\">\r\n          <!-- 商品名称链接到详情页 -->\r\n          <router-link :to=\"{ name: 'productDetail', params: { id: product.id } }\">\r\n            <h3>{{ product.name }}</h3>\r\n          </router-link>\r\n          \r\n          <!-- 图片链接到详情页 -->\r\n          <router-link :to=\"{ name: 'productDetail', params: { id: product.id } }\" class=\"product-image\">\r\n            <!-- 显示商品图片，如果没有图片则显示默认图片 -->\r\n            <img\r\n              :src=\"product.imageUrl || 'https://img.pngsucai.com/00/87/02/31a2f72e4e901438.webp'\"\r\n              :alt=\"product.name || '商品图片'\"\r\n              class=\"product-img clickable\"\r\n              @error=\"handleImageError\"\r\n            >\r\n          </router-link>\r\n          \r\n          <div class=\"product-price\">价格: ¥{{ product.price.toFixed(2) }}</div>\r\n          \r\n          <!-- 显示商品分类信息 -->\r\n          <div class=\"product-category\" v-if=\"product.subCategory\">\r\n            <small>\r\n              <span v-if=\"product.subCategory.category\">{{ product.subCategory.category.name }} / </span>\r\n              {{ product.subCategory.name }}\r\n            </small>\r\n          </div>\r\n\r\n          <!-- 注意：这里用的是 product.frozen（后端返回的字段名），不是 isFrozen -->\r\n          <div v-if=\"product.frozen\" class=\"alert alert-danger\">\r\n            该商品正在交易中，请稍后再试。\r\n          </div>\r\n\r\n          <!-- 只有商品未冻结，才显示购买按钮 -->\r\n          <button\r\n            class=\"btn\"\r\n            @click=\"handleBuyClick(product)\"\r\n            v-if=\"!product.frozen\">\r\n            我要购买\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 如果商品列表为空，显示提示 -->\r\n      <div v-else class=\"alert alert-info\">\r\n        当前没有可购买的商品。\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 购买表单弹窗 -->\r\n    <div v-if=\"showBuyForm && currentProduct\" class=\"buy-form card\">\r\n      <h2>购买信息</h2>\r\n      <form @submit.prevent=\"submitBuy\">\r\n        <div class=\"form-group\">\r\n          <label for=\"name\">姓名</label>\r\n          <input type=\"text\" id=\"name\" v-model=\"buyer.name\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"phone\">电话</label>\r\n          <input type=\"tel\" id=\"phone\" v-model=\"buyer.phone\" required>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"address\">地址</label>\r\n          <textarea id=\"address\" v-model=\"buyer.address\" required></textarea>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"notes\">备注</label>\r\n          <textarea id=\"notes\" v-model=\"buyer.notes\"></textarea>\r\n        </div>\r\n        <div class=\"form-actions\">\r\n          <button type=\"submit\" class=\"btn\">提交购买意向</button>\r\n          <button type=\"button\" class=\"btn btn-secondary\" @click=\"showBuyForm = false\">取消</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <!-- 提交成功提示 -->\r\n    <div v-if=\"buySuccess\" class=\"alert alert-success\">\r\n      购买意向已提交，请等待卖家联系进行线下交易。\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  name: 'HomeView',\r\n  data() {\r\n    return {\r\n      products: [],\r\n      categories: [],\r\n      subCategories: [],\r\n      selectedCategoryId: '',\r\n      selectedSubCategoryId: '',\r\n      currentProduct: null,\r\n      loading: true,\r\n      error: null,\r\n      showBuyForm: false,\r\n      buyer: {\r\n        name: '',\r\n        phone: '',\r\n        address: '',\r\n        notes: ''\r\n      },\r\n      buySuccess: false\r\n    };\r\n  },\r\n  created() {\r\n    // 获取分类和商品数据\r\n    this.fetchCategories();\r\n    this.fetchProducts();\r\n  },\r\n  watch: {\r\n    // 监听分类变化，加载对应的二级分类\r\n    selectedCategoryId(newVal) {\r\n      this.selectedSubCategoryId = ''; // 重置二级分类选择\r\n      this.loadSubCategories(newVal);\r\n      this.fetchProducts(); // 重新获取商品\r\n    },\r\n    // 监听二级分类变化，重新获取商品\r\n    selectedSubCategoryId() {\r\n      this.fetchProducts();\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8081/api/categories/active');\r\n        // 正确访问嵌套在data字段中的分类列表\r\n        this.categories = response.data.data || [];\r\n      } catch (error) {\r\n        console.error('获取分类信息失败:', error);\r\n      }\r\n    },\r\n    async loadSubCategories(categoryId) {\r\n      try {\r\n        // 如果选择了一级分类，加载对应的二级分类\r\n        if (categoryId) {\r\n          const response = await axios.get(`http://localhost:8081/api/sub-categories/category/${categoryId}`);\r\n          // SubCategoryController直接返回列表，不包含data字段\r\n          this.subCategories = Array.isArray(response.data) ? response.data : [];\r\n        } else {\r\n          // 如果没有选择一级分类，清空二级分类列表\r\n          this.subCategories = [];\r\n        }\r\n      } catch (error) {\r\n        console.error('获取二级分类信息失败:', error);\r\n        this.subCategories = [];\r\n      }\r\n    },\r\n    async fetchProducts() {\r\n      try {\r\n        this.loading = true;\r\n        let url = 'http://localhost:8081/api/products/active';\r\n        \r\n        // 根据选择的分类构建请求URL\r\n        if (this.selectedSubCategoryId) {\r\n          // 如果选择了二级分类，使用二级分类查询接口\r\n          url = `http://localhost:8081/api/products/sub-category/${this.selectedSubCategoryId}`;\r\n        } else if (this.selectedCategoryId) {\r\n          // 如果只选择了一级分类，使用一级分类查询接口\r\n          url = `http://localhost:8081/api/products/category/${this.selectedCategoryId}`;\r\n        }\r\n        \r\n        const response = await axios.get(url);\r\n        // 确保返回的是数组，考虑data字段嵌套结构\r\n        const data = response.data.data || response.data;\r\n        this.products = Array.isArray(data) ? data : [data].filter(Boolean);\r\n      } catch (error) {\r\n        console.error('获取商品信息失败:', error);\r\n        this.error = '获取商品信息失败，请稍后重试。';\r\n        this.products = [];\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    handleImageError(event) {\r\n      // 当图片加载失败时，设置默认图片\r\n      event.target.src = 'https://img.pngsucai.com/00/87/02/31a2f72e4e901438.webp';\r\n    },\r\n    handleBuyClick(product) {\r\n      this.currentProduct = product;\r\n      this.showBuyForm = true;\r\n    },\r\n    async submitBuy() {\r\n      // 再次检查用户是否已登录（防止绕过前端验证）\r\n      if (!localStorage.getItem('customerLoggedIn')) {\r\n        this.error = '未登录，跳转至登录界面'\r\n        // 2秒后跳转到登录页面\r\n        setTimeout(() => {\r\n          this.$router.push('/login')\r\n        }, 2000)\r\n        return\r\n      }\r\n      \r\n      try {\r\n        // 获取当前登录的用户名\r\n        const username = localStorage.getItem('customerUsername')\r\n        // 发送请求时携带用户名作为请求头\r\n        await this.$axios.post(`/api/buyers/product/${this.currentProduct.id}`, this.buyer, {\r\n          headers: {\r\n            'X-Username': username\r\n          }\r\n        })\r\n        this.buySuccess = true\r\n        this.showBuyForm = false\r\n        // 刷新商品列表\r\n        this.fetchProducts()\r\n        // 5秒后自动隐藏成功提示\r\n        setTimeout(() => {\r\n          this.buySuccess = false\r\n        }, 5000)\r\n      } catch (err) {\r\n        this.error = '提交购买意向失败'\r\n        console.error(err)\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.home {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 40px;\r\n  font-size: 18px;\r\n  color: #666;\r\n}\r\n\r\n.filter-section {\r\n  background-color: #f8f9fa;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n}\r\n\r\n.filter-section h3 {\r\n  margin-top: 0;\r\n  margin-bottom: 15px;\r\n  color: #333;\r\n}\r\n\r\n.filter-form {\r\n  display: flex;\r\n  gap: 15px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.filter-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 200px;\r\n}\r\n\r\n.filter-group label {\r\n  margin-bottom: 5px;\r\n  font-weight: 500;\r\n  color: #555;\r\n}\r\n\r\n.filter-group select {\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.products-container {\r\n  margin-top: 20px;\r\n}\r\n\r\n.product-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 20px;\r\n}\r\n\r\n.product-card {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.product-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\r\n}\r\n\r\n.product-card h3 {\r\n  margin: 15px;\r\n  color: #333;\r\n  font-size: 18px;\r\n  transition: color 0.2s ease;\r\n}\r\n\r\n.product-card h3:hover {\r\n  color: #007bff;\r\n}\r\n\r\n.product-image {\r\n  display: block;\r\n  width: 100%;\r\n  height: 200px;\r\n  overflow: hidden;\r\n}\r\n\r\n.product-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.product-img:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.product-price {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  color: #e74c3c;\r\n  margin: 15px;\r\n}\r\n\r\n.product-category {\r\n  margin: 0 15px 15px;\r\n  color: #666;\r\n  font-size: 14px;\r\n}\r\n\r\n.btn {\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 15px;\r\n  margin: 15px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.btn:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #6c757d;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: #545b62;\r\n}\r\n\r\n.buy-form {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: white;\r\n  padding: 30px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 20px rgba(0,0,0,0.2);\r\n  z-index: 1000;\r\n  min-width: 400px;\r\n  max-width: 90vw;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: 500;\r\n  color: #333;\r\n}\r\n\r\n.form-group input,\r\n.form-group textarea {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-group textarea {\r\n  resize: vertical;\r\n  min-height: 80px;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: flex-end;\r\n  margin-top: 20px;\r\n}\r\n\r\n.alert {\r\n  padding: 15px;\r\n  margin-bottom: 20px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.alert-danger {\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  color: #721c24;\r\n}\r\n\r\n.alert-success {\r\n  background-color: #d4edda;\r\n  border: 1px solid #c3e6cb;\r\n  color: #155724;\r\n}\r\n\r\n.alert-info {\r\n  background-color: #d1ecf1;\r\n  border: 1px solid #bee5eb;\r\n  color: #0c5460;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .product-list {\r\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  }\r\n  \r\n  .filter-form {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .filter-group {\r\n    min-width: 100%;\r\n  }\r\n  \r\n  .buy-form {\r\n    min-width: 90%;\r\n    padding: 20px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}