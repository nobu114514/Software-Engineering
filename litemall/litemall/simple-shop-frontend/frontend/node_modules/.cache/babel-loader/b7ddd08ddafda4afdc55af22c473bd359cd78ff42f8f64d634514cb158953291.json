{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport SellerLogin from '../views/SellerLogin.vue';\nimport SellerDashboard from '../views/SellerDashboard.vue';\nimport ProductForm from '../views/ProductForm.vue';\nimport ProductHistory from '../views/ProductHistory.vue';\nimport BuyerList from '../views/BuyerList.vue';\nimport ChangePassword from '../views/ChangePassword.vue';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/seller/login',\n  name: 'sellerLogin',\n  component: SellerLogin\n}, {\n  path: '/seller/dashboard',\n  name: 'sellerDashboard',\n  component: SellerDashboard,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/seller/product/new',\n  name: 'newProduct',\n  component: ProductForm,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/seller/products',\n  name: 'productHistory',\n  component: ProductHistory,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/seller/buyers',\n  name: 'buyerList',\n  component: BuyerList,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/seller/change-password',\n  name: 'changePassword',\n  component: ChangePassword,\n  meta: {\n    requiresAuth: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\n// 路由守卫，检查是否已登录\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 检查是否已登录\n    if (!localStorage.getItem('sellerLoggedIn')) {\n      next({\n        name: 'sellerLogin'\n      });\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomeView","SellerLogin","SellerDashboard","ProductForm","ProductHistory","BuyerList","ChangePassword","routes","path","name","component","meta","requiresAuth","router","history","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","localStorage","getItem"],"sources":["F:/作业/git/Software-Engineering/litemall/simple-shop-frontend/frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\nimport HomeView from '../views/HomeView.vue'\r\nimport SellerLogin from '../views/SellerLogin.vue'\r\nimport SellerDashboard from '../views/SellerDashboard.vue'\r\nimport ProductForm from '../views/ProductForm.vue'\r\nimport ProductHistory from '../views/ProductHistory.vue'\r\nimport BuyerList from '../views/BuyerList.vue'\r\nimport ChangePassword from '../views/ChangePassword.vue'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    component: HomeView\r\n  },\r\n  {\r\n    path: '/seller/login',\r\n    name: 'sellerLogin',\r\n    component: SellerLogin\r\n  },\r\n  {\r\n    path: '/seller/dashboard',\r\n    name: 'sellerDashboard',\r\n    component: SellerDashboard,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/seller/product/new',\r\n    name: 'newProduct',\r\n    component: ProductForm,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/seller/products',\r\n    name: 'productHistory',\r\n    component: ProductHistory,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/seller/buyers',\r\n    name: 'buyerList',\r\n    component: BuyerList,\r\n    meta: { requiresAuth: true }\r\n  },\r\n  {\r\n    path: '/seller/change-password',\r\n    name: 'changePassword',\r\n    component: ChangePassword,\r\n    meta: { requiresAuth: true }\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes\r\n})\r\n\r\n// 路由守卫，检查是否已登录\r\nrouter.beforeEach((to, from, next) => {\r\n  if (to.matched.some(record => record.meta.requiresAuth)) {\r\n    // 检查是否已登录\r\n    if (!localStorage.getItem('sellerLoggedIn')) {\r\n      next({ name: 'sellerLogin' })\r\n    } else {\r\n      next()\r\n    }\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nexport default router\r\n"],"mappings":";;AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,cAAc,MAAM,6BAA6B;AAExD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEV;AACb,CAAC,EACD;EACEQ,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAET;AACb,CAAC,EACD;EACEO,IAAI,EAAE,mBAAmB;EACzBC,IAAI,EAAE,iBAAiB;EACvBC,SAAS,EAAER,eAAe;EAC1BS,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,qBAAqB;EAC3BC,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEP,WAAW;EACtBQ,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,kBAAkB;EACxBC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEN,cAAc;EACzBO,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,gBAAgB;EACtBC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEL,SAAS;EACpBM,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,yBAAyB;EAC/BC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEJ,cAAc;EACzBK,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,CACF;AAED,MAAMC,MAAM,GAAGf,YAAY,CAAC;EAC1BgB,OAAO,EAAEf,gBAAgB,CAACgB,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CV;AACF,CAAC,CAAC;;AAEF;AACAM,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,IAAIF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACb,IAAI,CAACC,YAAY,CAAC,EAAE;IACvD;IACA,IAAI,CAACa,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,EAAE;MAC3CL,IAAI,CAAC;QAAEZ,IAAI,EAAE;MAAc,CAAC,CAAC;IAC/B,CAAC,MAAM;MACLY,IAAI,CAAC,CAAC;IACR;EACF,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeR,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}