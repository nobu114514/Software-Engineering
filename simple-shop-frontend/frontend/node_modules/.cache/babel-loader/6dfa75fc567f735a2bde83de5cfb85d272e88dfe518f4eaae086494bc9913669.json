{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"editor-container\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"editor-label\"\n};\nconst _hoisted_3 = [\"contenteditable\"];\nconst _hoisted_4 = {\n  key: 1,\n  class: \"toolbar\"\n};\nconst _hoisted_5 = {\n  class: \"config-item\"\n};\nconst _hoisted_6 = {\n  class: \"config-item\"\n};\nconst _hoisted_7 = {\n  class: \"path-list\"\n};\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = {\n  class: \"dialog-buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$props.label ? (_openBlock(), _createElementBlock(\"label\", _hoisted_2, _toDisplayString($props.label), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", {\n    ref: \"editorRef\",\n    class: \"rich-text-editor\",\n    contenteditable: !$props.disabled,\n    onInput: _cache[0] || (_cache[0] = (...args) => $options.onInput && $options.onInput(...args)),\n    onPaste: _cache[1] || (_cache[1] = (...args) => $options.onPaste && $options.onPaste(...args))\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_3), !$props.disabled ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.formatText('bold')),\n    title: \"粗体\"\n  }, \"粗体\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.formatText('italic')),\n    title: \"斜体\"\n  }, \"斜体\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.formatText('underline')),\n    title: \"下划线\"\n  }, \"下划线\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.triggerImageUpload && $options.triggerImageUpload(...args)),\n    title: \"插入图片\"\n  }, \"插入图片\"), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.showUploadConfig && $options.showUploadConfig(...args)),\n    title: \"配置上传路径\"\n  }, \"配置上传\"), _createElementVNode(\"input\", {\n    ref: \"fileInput\",\n    type: \"file\",\n    accept: \"image/*\",\n    style: {\n      \"display\": \"none\"\n    },\n    onChange: _cache[7] || (_cache[7] = (...args) => $options.uploadImage && $options.uploadImage(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 上传路径配置对话框 \"), $data.showConfigDialog ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 2,\n    class: \"config-dialog-overlay\",\n    onClick: _cache[13] || (_cache[13] = (...args) => $options.closeConfigDialog && $options.closeConfigDialog(...args))\n  }, [_createElementVNode(\"div\", {\n    class: \"config-dialog\",\n    onClick: _cache[12] || (_cache[12] = _withModifiers(() => {}, [\"stop\"]))\n  }, [_cache[16] || (_cache[16] = _createElementVNode(\"h3\", null, \"配置图片上传路径\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_5, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", null, \"自定义上传路径：\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.customUploadPath = $event),\n    placeholder: \"例如：/api/custom/upload\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.customUploadPath]]), _createElementVNode(\"button\", {\n    onClick: _cache[9] || (_cache[9] = (...args) => $options.addCustomPath && $options.addCustomPath(...args))\n  }, \"添加\")]), _createElementVNode(\"div\", _hoisted_6, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", null, \"当前使用的路径列表：\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.getCurrentApiPaths(), (path, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"path-item\"\n    }, [_createTextVNode(_toDisplayString(path) + \" \", 1 /* TEXT */), $options.isCustomPath(path) ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      onClick: $event => $options.removeCustomPath(index),\n      class: \"remove-btn\"\n    }, \"删除\", 8 /* PROPS */, _hoisted_8)) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    onClick: _cache[10] || (_cache[10] = (...args) => $options.resetPaths && $options.resetPaths(...args))\n  }, \"重置为默认路径\"), _createElementVNode(\"button\", {\n    onClick: _cache[11] || (_cache[11] = (...args) => $options.closeConfigDialog && $options.closeConfigDialog(...args)),\n    class: \"confirm-btn\"\n  }, \"确定\")])])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","$props","label","_hoisted_2","_toDisplayString","_createElementVNode","ref","contenteditable","disabled","onInput","_cache","args","$options","onPaste","_hoisted_4","type","onClick","$event","formatText","title","triggerImageUpload","showUploadConfig","accept","style","onChange","uploadImage","_createCommentVNode","$data","showConfigDialog","closeConfigDialog","_withModifiers","_hoisted_5","customUploadPath","placeholder","addCustomPath","_hoisted_6","_hoisted_7","_Fragment","_renderList","getCurrentApiPaths","path","index","key","isCustomPath","removeCustomPath","_hoisted_8","_hoisted_9","resetPaths"],"sources":["D:\\github\\最后一舞\\simple-shop-frontend\\frontend\\src\\components\\RichTextEditor.vue"],"sourcesContent":["<template>\r\n  <div class=\"editor-container\">\r\n    <label v-if=\"label\" class=\"editor-label\">{{ label }}</label>\r\n    <div ref=\"editorRef\" class=\"rich-text-editor\"\r\n         :contenteditable=\"!disabled\"\r\n         @input=\"onInput\"\r\n         @paste=\"onPaste\"></div>\r\n    <div class=\"toolbar\" v-if=\"!disabled\">\r\n      <button type=\"button\" @click=\"formatText('bold')\" title=\"粗体\">粗体</button>\r\n      <button type=\"button\" @click=\"formatText('italic')\" title=\"斜体\">斜体</button>\r\n      <button type=\"button\" @click=\"formatText('underline')\" title=\"下划线\">下划线</button>\r\n      <button type=\"button\" @click=\"triggerImageUpload\" title=\"插入图片\">插入图片</button>\r\n      <button type=\"button\" @click=\"showUploadConfig\" title=\"配置上传路径\">配置上传</button>\r\n      <input ref=\"fileInput\" type=\"file\" accept=\"image/*\" style=\"display: none\" @change=\"uploadImage\">\r\n    </div>\r\n    \r\n    <!-- 上传路径配置对话框 -->\r\n    <div v-if=\"showConfigDialog\" class=\"config-dialog-overlay\" @click=\"closeConfigDialog\">\r\n      <div class=\"config-dialog\" @click.stop>\r\n        <h3>配置图片上传路径</h3>\r\n        <div class=\"config-item\">\r\n          <label>自定义上传路径：</label>\r\n          <input type=\"text\" v-model=\"customUploadPath\" placeholder=\"例如：/api/custom/upload\">\r\n          <button @click=\"addCustomPath\">添加</button>\r\n        </div>\r\n        <div class=\"config-item\">\r\n          <label>当前使用的路径列表：</label>\r\n          <div class=\"path-list\">\r\n            <div v-for=\"(path, index) in getCurrentApiPaths()\" :key=\"index\" class=\"path-item\">\r\n              {{ path }}\r\n              <button v-if=\"isCustomPath(path)\" @click=\"removeCustomPath(index)\" class=\"remove-btn\">删除</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"dialog-buttons\">\r\n          <button @click=\"resetPaths\">重置为默认路径</button>\r\n          <button @click=\"closeConfigDialog\" class=\"confirm-btn\">确定</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'RichTextEditor',\r\n  props: {\r\n    modelValue: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    label: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 允许父组件传入自定义的API路径列表\r\n    customApiPaths: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showConfigDialog: false,\r\n      customUploadPath: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    // 初始化编辑器内容，添加空值检查\r\n    if (this.modelValue && this.$refs && this.$refs.editorRef) {\r\n      this.$refs.editorRef.innerHTML = this.modelValue\r\n    }\r\n  },\r\n  watch: {\r\n    modelValue: {\r\n      handler(newVal) {\r\n        // 确保editorRef已初始化，添加更严格的空值检查\r\n        if (this.$refs && this.$refs.editorRef && newVal !== this.$refs.editorRef.innerHTML) {\r\n          // 只有当外部传入的值与编辑器当前内容不同时才更新\r\n          // 避免编辑器内部修改导致的循环更新\r\n          this.$refs.editorRef.innerHTML = newVal\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取当前使用的API路径列表\r\n    getCurrentApiPaths() {\r\n      const defaultPaths = [\r\n        '/api/files/upload/images', \r\n        '/files/upload/images', \r\n        '/admin/upload/image',\r\n        '/api/upload/image',\r\n        '/upload/image',\r\n        '/admin/files/upload',\r\n        '/api/product/upload',\r\n        '/product/upload',\r\n        '/upload'\r\n      ]\r\n      const userCustomPaths = JSON.parse(localStorage.getItem('richTextEditorCustomPaths') || '[]')\r\n      return [...new Set([...userCustomPaths, ...this.customApiPaths, ...defaultPaths])]\r\n    },\r\n    \r\n    // 检查是否为自定义路径\r\n    isCustomPath(path) {\r\n      const defaultPaths = [\r\n        '/api/files/upload/images', \r\n        '/files/upload/images', \r\n        '/admin/upload/image',\r\n        '/api/upload/image',\r\n        '/upload/image',\r\n        '/admin/files/upload',\r\n        '/api/product/upload',\r\n        '/product/upload',\r\n        '/upload'\r\n      ]\r\n      return !defaultPaths.includes(path) && !this.customApiPaths.includes(path)\r\n    },\r\n    \r\n    // 显示上传配置对话框\r\n    showUploadConfig() {\r\n      this.showConfigDialog = true\r\n    },\r\n    \r\n    // 关闭配置对话框\r\n    closeConfigDialog() {\r\n      this.showConfigDialog = false\r\n      this.customUploadPath = ''\r\n    },\r\n    \r\n    // 添加自定义路径\r\n    addCustomPath() {\r\n      const path = this.customUploadPath.trim()\r\n      if (!path) {\r\n        alert('请输入有效的路径')\r\n        return\r\n      }\r\n      \r\n      // 检查是否是本地文件系统路径\r\n      if (path.includes('\\\\') || path.startsWith('C:') || path.startsWith('D:') || path.startsWith('E:')) {\r\n        alert('不能使用本地文件系统路径！请输入API路径，例如：/api/upload/images 或 http://your-server/upload')\r\n        return\r\n      }\r\n      \r\n      let customPaths = JSON.parse(localStorage.getItem('richTextEditorCustomPaths') || '[]')\r\n      if (!customPaths.includes(path)) {\r\n        customPaths.push(path)\r\n        localStorage.setItem('richTextEditorCustomPaths', JSON.stringify(customPaths))\r\n        alert('路径添加成功！')\r\n        this.customUploadPath = ''\r\n      } else {\r\n        alert('该路径已存在')\r\n      }\r\n    },\r\n    \r\n    // 删除自定义路径\r\n    removeCustomPath(index) {\r\n      const currentPaths = this.getCurrentApiPaths()\r\n      const pathToRemove = currentPaths[index]\r\n      \r\n      let customPaths = JSON.parse(localStorage.getItem('richTextEditorCustomPaths') || '[]')\r\n      customPaths = customPaths.filter(path => path !== pathToRemove)\r\n      localStorage.setItem('richTextEditorCustomPaths', JSON.stringify(customPaths))\r\n    },\r\n    \r\n    // 重置为默认路径\r\n    resetPaths() {\r\n      if (confirm('确定要重置为默认路径吗？这将清除所有自定义路径。')) {\r\n        localStorage.removeItem('richTextEditorCustomPaths')\r\n        alert('已重置为默认路径')\r\n      }\r\n    },\r\n    \r\n    // 处理输入事件，直接发送内容而不重新渲染\r\n    onInput() {\r\n      const content = this.$refs.editorRef.innerHTML\r\n      this.$emit('update:modelValue', content)\r\n    },\r\n    \r\n    // 处理粘贴事件\r\n    onPaste(event) {\r\n      // 阻止默认粘贴行为\r\n      event.preventDefault()\r\n      \r\n      // 获取粘贴的文本\r\n      const text = (event.clipboardData || window.clipboardData).getData('text/plain')\r\n      \r\n      // 使用document.execCommand插入文本，保持光标位置\r\n      document.execCommand('insertText', false, text)\r\n      \r\n      // 触发输入事件更新值\r\n      this.onInput()\r\n    },\r\n    \r\n    // 文本格式化\r\n    formatText(command) {\r\n      try {\r\n        document.execCommand(command, false, null)\r\n        this.$refs.editorRef.focus()\r\n        this.onInput()\r\n      } catch (error) {\r\n        console.error('格式化文本失败:', error)\r\n      }\r\n    },\r\n    \r\n    // 触发图片上传\r\n    triggerImageUpload() {\r\n      this.$refs.fileInput.click()\r\n    },\r\n    \r\n    // 处理图片上传\r\n    uploadImage(event) {\r\n      // 添加事件目标检查\r\n      if (!event || !event.target) {\r\n        console.error('上传事件无效')\r\n        return\r\n      }\r\n      \r\n      const file = event.target.files[0]\r\n      if (!file) return\r\n      \r\n      // 检查文件类型\r\n      const validTypes = ['image/jpeg', 'image/png', 'image/gif', 'image/webp']\r\n      if (!validTypes.includes(file.type)) {\r\n        alert('请上传有效的图片文件（JPG、PNG、GIF、WebP）')\r\n        if (event.target) {\r\n          event.target.value = ''\r\n        }\r\n        return\r\n      }\r\n      \r\n      // 检查文件大小（限制为5MB）\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        alert('图片大小不能超过5MB')\r\n        if (event.target) {\r\n          event.target.value = ''\r\n        }\r\n        return\r\n      }\r\n      \r\n      console.log('开始上传图片:', file.name)\r\n      \r\n      const formData = new FormData()\r\n      formData.append('files', file)\r\n      \r\n      // 尝试获取认证token，如果有的话\r\n      const token = localStorage.getItem('token') || sessionStorage.getItem('token')\r\n      \r\n      // 配置请求头部\r\n      const headers = {}\r\n      if (token) {\r\n        headers['Authorization'] = `Bearer ${token}`\r\n      }\r\n      \r\n      // 获取所有可用的API路径，并过滤掉本地文件系统路径\r\n      const apiPaths = this.getCurrentApiPaths().filter(path => \r\n        !path.includes('\\\\') && \r\n        !path.startsWith('C:') && \r\n        !path.startsWith('D:') && \r\n        !path.startsWith('E:')\r\n      )\r\n      \r\n      console.log('可用的上传路径列表:', apiPaths)\r\n      \r\n      // 定义递归上传函数\r\n      const tryUpload = (pathIndex) => {\r\n        if (pathIndex >= apiPaths.length) {\r\n          throw new Error('所有API路径尝试均失败，请检查服务器配置')\r\n        }\r\n        \r\n        const currentPath = apiPaths[pathIndex]\r\n        console.log(`尝试上传图片，目标URL: ${currentPath}, 尝试次数: ${pathIndex + 1}`)\r\n        console.log('认证token是否存在:', !!token)\r\n        \r\n        return fetch(currentPath, {\r\n          method: 'POST',\r\n          body: formData,\r\n          credentials: 'include', // 确保发送cookies\r\n          headers: headers\r\n        })\r\n        .then(response => {\r\n          console.log(`路径 ${currentPath} 响应状态:`, response.status)\r\n          console.log('响应内容类型:', response.headers.get('content-type'))\r\n          \r\n          // 如果是404错误，尝试下一个路径\r\n          if (response.status === 404) {\r\n            console.log(`路径 ${currentPath} 返回404，尝试下一个路径`)\r\n            return tryUpload(pathIndex + 1)\r\n          }\r\n          \r\n          // 检查其他错误状态码\r\n          if (!response.ok) {\r\n            throw new Error(`请求失败，状态码: ${response.status}`)\r\n          }\r\n          \r\n          // 获取原始响应文本\r\n          return response.text().then(text => {\r\n            console.log('原始响应内容:', text.substring(0, 100) + '...')\r\n            \r\n            // 检查是否包含HTML标签\r\n            if (text.includes('<!DOCTYPE') || text.includes('<html') || text.includes('<head')) {\r\n              console.error('检测到HTML响应，尝试下一个API路径')\r\n              return tryUpload(pathIndex + 1)\r\n            }\r\n            \r\n            // 尝试解析JSON\r\n            try {\r\n              return JSON.parse(text)\r\n            } catch (e) {\r\n              // 如果解析失败，尝试下一个路径\r\n              console.error(`路径 ${currentPath} 返回非JSON响应，尝试下一个路径`)\r\n              return tryUpload(pathIndex + 1)\r\n            }\r\n          })\r\n        })\r\n      }\r\n      \r\n      // 开始尝试上传，从第一个API路径开始\r\n      tryUpload(0)\r\n      .then(data => {\r\n        console.log('上传响应数据格式:', Object.keys(data))\r\n        // 检查各种可能的响应格式\r\n        if (data && data.imageUrls && data.imageUrls.length > 0) {\r\n          this.insertImageAtCursor(data.imageUrls[0])\r\n        } else if (data && data.url) {\r\n          this.insertImageAtCursor(data.url)\r\n        } else if (data && data.data && data.data.imageUrls && data.data.imageUrls.length > 0) {\r\n          this.insertImageAtCursor(data.data.imageUrls[0])\r\n        } else {\r\n          console.error('未预期的响应格式:', data)\r\n          alert('上传失败: 服务器返回格式不正确')\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('图片上传错误:', error)\r\n        // 更友好的错误提示\r\n        if (error.message.includes('Failed to fetch')) {\r\n          alert('上传失败: 无法连接到服务器。请确保API路径正确，并且服务器正在运行。本地文件系统路径不能用于上传！')\r\n        } else if (error.message.includes('HTML')) {\r\n          alert('上传失败: 服务器返回HTML内容而非JSON，可能API路径不正确或服务器未正确配置')\r\n        } else if (error.message.includes('Unexpected token')) {\r\n          alert('上传失败: 服务器返回的内容不是有效的JSON格式')\r\n        } else if (error.message.includes('所有API路径尝试均失败')) {\r\n          alert('上传失败: 无法连接到正确的图片上传API，请联系管理员或配置有效的API上传路径')\r\n        } else {\r\n          alert('上传失败: ' + error.message)\r\n        }\r\n      })\r\n      .finally(() => {\r\n        // 清空文件输入，添加安全检查\r\n        if (event && event.target) {\r\n          event.target.value = ''\r\n        }\r\n      })\r\n    },\r\n    \r\n    // 在光标位置插入图片\r\n    insertImageAtCursor(imageUrl) {\r\n      try {\r\n        // 添加更严格的空值检查\r\n        if (!this.$refs || !this.$refs.editorRef) {\r\n          console.error('编辑器引用未初始化')\r\n          alert('编辑器未准备就绪，请稍后再试')\r\n          return\r\n        }\r\n        \r\n        const selection = window.getSelection()\r\n        if (!selection || selection.rangeCount === 0) {\r\n          // 如果没有选中区域，直接在末尾添加\r\n          const img = document.createElement('img')\r\n          img.src = imageUrl\r\n          img.style.maxWidth = '100%'\r\n          this.$refs.editorRef.appendChild(img)\r\n        } else {\r\n          // 获取当前选中区域\r\n          const range = selection.getRangeAt(0)\r\n          \r\n          // 创建图片元素\r\n          const img = document.createElement('img')\r\n          img.src = imageUrl\r\n          img.style.maxWidth = '100%'\r\n          \r\n          // 在光标位置插入图片\r\n          range.deleteContents()\r\n          range.insertNode(img)\r\n          \r\n          // 将光标移动到图片后面\r\n          range.setStartAfter(img)\r\n          range.setEndAfter(img)\r\n          selection.removeAllRanges()\r\n          selection.addRange(range)\r\n        }\r\n        \r\n        // 更新内容并保持焦点\r\n        this.onInput()\r\n        if (this.$refs && this.$refs.editorRef) {\r\n          this.$refs.editorRef.focus()\r\n        }\r\n      } catch (error) {\r\n        console.error('插入图片失败:', error)\r\n        alert('插入图片失败，请重试')\r\n      }\r\n    },\r\n    \r\n    // 获取编辑器内容\r\n    getContent() {\r\n      if (!this.$refs || !this.$refs.editorRef) {\r\n        console.error('编辑器引用未初始化，无法获取内容')\r\n        return ''\r\n      }\r\n      return this.$refs.editorRef.innerHTML\r\n    },\r\n    \r\n    // 设置编辑器内容\r\n    setContent(content) {\r\n      if (!this.$refs || !this.$refs.editorRef) {\r\n        console.error('编辑器引用未初始化，无法设置内容')\r\n        return\r\n      }\r\n      this.$refs.editorRef.innerHTML = content\r\n      this.$emit('update:modelValue', content)\r\n    },\r\n    \r\n    // 清空编辑器\r\n    clear() {\r\n      if (!this.$refs || !this.$refs.editorRef) {\r\n        console.error('编辑器引用未初始化，无法清空内容')\r\n        return\r\n      }\r\n      this.$refs.editorRef.innerHTML = ''\r\n      this.$emit('update:modelValue', '')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.editor-container {\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.editor-label {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-weight: bold;\r\n}\r\n\r\n.rich-text-editor {\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  min-height: 200px;\r\n  outline: none;\r\n  background-color: white;\r\n}\r\n\r\n.toolbar {\r\n  margin-top: 10px;\r\n  display: flex;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.toolbar button {\r\n  padding: 5px 10px;\r\n  background-color: #f0f0f0;\r\n  border: 1px solid #ddd;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n}\r\n\r\n.toolbar button:hover {\r\n  background-color: #e0e0e0;\r\n}\r\n\r\n/* 配置对话框样式 */\r\n.config-dialog-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.config-dialog {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.config-dialog h3 {\r\n  margin-top: 0;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.config-item {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.config-item label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n}\r\n\r\n.config-item input[type=\"text\"] {\r\n  width: calc(100% - 80px);\r\n  padding: 8px;\r\n  margin-right: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.config-item button {\r\n  padding: 8px 12px;\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.config-item button:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.path-list {\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  border: 1px solid #ddd;\r\n  padding: 10px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.path-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 5px 0;\r\n  border-bottom: 1px solid #f0f0f0;\r\n}\r\n\r\n.path-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.remove-btn {\r\n  background-color: #f44336 !important;\r\n  color: white !important;\r\n  padding: 3px 8px !important;\r\n  font-size: 12px;\r\n}\r\n\r\n.remove-btn:hover {\r\n  background-color: #d32f2f !important;\r\n}\r\n\r\n.dialog-buttons {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.confirm-btn {\r\n  background-color: #2196F3 !important;\r\n}\r\n\r\n.confirm-btn:hover {\r\n  background-color: #1976D2 !important;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}