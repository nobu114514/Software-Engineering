{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"image-carousel-container\"\n};\nconst _hoisted_2 = [\"disabled\"];\nconst _hoisted_3 = {\n  class: \"carousel-image-wrapper\"\n};\nconst _hoisted_4 = [\"src\", \"alt\"];\nconst _hoisted_5 = [\"disabled\"];\nconst _hoisted_6 = {\n  class: \"carousel-indicators\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  class: \"carousel-counter\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.show ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"image-carousel-overlay\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.close && $options.close(...args), [\"self\"]))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"button\", {\n    class: \"close-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.close && $options.close(...args))\n  }, \"×\"), _createElementVNode(\"button\", {\n    class: \"nav-btn prev-btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.prevImage && $options.prevImage(...args)),\n    disabled: $data.currentIndex === 0\n  }, \" < \", 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    src: $options.currentImage,\n    alt: `图片 ${$data.currentIndex + 1}/${$props.images.length}`,\n    class: \"carousel-image\",\n    onError: _cache[2] || (_cache[2] = (...args) => $options.handleImageError && $options.handleImageError(...args))\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_4)]), _createElementVNode(\"button\", {\n    class: \"nav-btn next-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.nextImage && $options.nextImage(...args)),\n    disabled: $data.currentIndex === $props.images.length - 1\n  }, \" > \", 8 /* PROPS */, _hoisted_5), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.images, (img, index) => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: index,\n      class: _normalizeClass([\"indicator\", {\n        active: index === $data.currentIndex\n      }]),\n      onClick: $event => $options.goToImage(index)\n    }, null, 10 /* CLASS, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($data.currentIndex + 1) + \" / \" + _toDisplayString($props.images.length), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["class","$props","show","_createElementBlock","onClick","_cache","_withModifiers","args","$options","close","_createElementVNode","_hoisted_1","prevImage","disabled","$data","currentIndex","_hoisted_2","_hoisted_3","src","currentImage","alt","images","length","onError","handleImageError","nextImage","_hoisted_5","_hoisted_6","_Fragment","_renderList","img","index","key","_normalizeClass","active","$event","goToImage","_hoisted_8","_toDisplayString"],"sources":["E:\\Software-Engineering2.0\\Software-Engineering-9bea62c8ef6d7754a2d932a0227f9bc4fff09a3c\\litemall\\simple-shop-frontend\\frontend\\src\\components\\ImageCarousel.vue"],"sourcesContent":["<template>\n  <div v-if=\"show\" class=\"image-carousel-overlay\" @click.self=\"close\">\n    <div class=\"image-carousel-container\">\n      <button class=\"close-btn\" @click=\"close\">&times;</button>\n      \n      <button class=\"nav-btn prev-btn\" @click=\"prevImage\" :disabled=\"currentIndex === 0\">\n        &lt;\n      </button>\n      \n      <div class=\"carousel-image-wrapper\">\n        <img \n          :src=\"currentImage\" \n          :alt=\"`图片 ${currentIndex + 1}/${images.length}`\"\n          class=\"carousel-image\"\n          @error=\"handleImageError\"\n        >\n      </div>\n      \n      <button class=\"nav-btn next-btn\" @click=\"nextImage\" :disabled=\"currentIndex === images.length - 1\">\n        &gt;\n      </button>\n      \n      <div class=\"carousel-indicators\">\n        <span \n          v-for=\"(img, index) in images\" \n          :key=\"index\"\n          class=\"indicator\"\n          :class=\"{ active: index === currentIndex }\"\n          @click=\"goToImage(index)\"\n        ></span>\n      </div>\n      \n      <div class=\"carousel-counter\">\n        {{ currentIndex + 1 }} / {{ images.length }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ImageCarousel',\n  props: {\n    show: {\n      type: Boolean,\n      default: false\n    },\n    images: {\n      type: Array,\n      default: () => []\n    },\n    initialIndex: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      currentIndex: 0,\n      defaultImage: 'https://img.pngsucai.com/00/87/02/31a2f72e4e901438.webp'\n    }\n  },\n  computed: {\n    currentImage() {\n      if (this.images.length === 0) return this.defaultImage;\n      return this.images[this.currentIndex] || this.defaultImage;\n    }\n  },\n  watch: {\n    show(newVal) {\n      if (newVal) {\n        this.currentIndex = Math.min(this.initialIndex, this.images.length - 1);\n        this.addKeydownListener();\n      } else {\n        this.removeKeydownListener();\n      }\n    }\n  },\n  beforeUnmount() {\n    this.removeKeydownListener();\n  },\n  methods: {\n    nextImage() {\n      if (this.currentIndex < this.images.length - 1) {\n        this.currentIndex++;\n      }\n    },\n    prevImage() {\n      if (this.currentIndex > 0) {\n        this.currentIndex--;\n      }\n    },\n    goToImage(index) {\n      if (index >= 0 && index < this.images.length) {\n        this.currentIndex = index;\n      }\n    },\n    close() {\n      this.$emit('close');\n    },\n    handleImageError(e) {\n      e.target.src = this.defaultImage;\n    },\n    addKeydownListener() {\n      document.addEventListener('keydown', this.handleKeydown);\n    },\n    removeKeydownListener() {\n      document.removeEventListener('keydown', this.handleKeydown);\n    },\n    handleKeydown(e) {\n      switch(e.key) {\n        case 'ArrowRight':\n          this.nextImage();\n          break;\n        case 'ArrowLeft':\n          this.prevImage();\n          break;\n        case 'Escape':\n          this.close();\n          break;\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.image-carousel-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.9);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.image-carousel-container {\n  position: relative;\n  width: 90%;\n  height: 80%;\n  max-width: 1200px;\n}\n\n.close-btn {\n  position: absolute;\n  top: -40px;\n  right: 0;\n  background: none;\n  border: none;\n  color: white;\n  font-size: 2.5rem;\n  cursor: pointer;\n  z-index: 10;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: background-color 0.3s;\n}\n\n.close-btn:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n\n.nav-btn {\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  border: none;\n  font-size: 2rem;\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background-color 0.3s;\n  z-index: 5;\n}\n\n.nav-btn:hover:not(:disabled) {\n  background-color: rgba(0, 0, 0, 0.8);\n}\n\n.nav-btn:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n.prev-btn {\n  left: 20px;\n}\n\n.next-btn {\n  right: 20px;\n}\n\n.carousel-image-wrapper {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n}\n\n.carousel-image {\n  max-width: 100%;\n  max-height: 100%;\n  object-fit: contain;\n}\n\n.carousel-indicators {\n  position: absolute;\n  bottom: 20px;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  gap: 10px;\n}\n\n.indicator {\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.5);\n  cursor: pointer;\n  transition: all 0.3s;\n}\n\n.indicator.active {\n  background-color: white;\n  width: 20px;\n  border-radius: 6px;\n}\n\n.carousel-counter {\n  position: absolute;\n  bottom: 20px;\n  right: 20px;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 0.9rem;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .image-carousel-container {\n    width: 95%;\n    height: 70%;\n  }\n  \n  .nav-btn {\n    font-size: 1.5rem;\n    width: 40px;\n    height: 40px;\n  }\n  \n  .prev-btn {\n    left: 10px;\n  }\n  \n  .next-btn {\n    right: 10px;\n  }\n}\n</style>"],"mappings":";;EAESA,KAAK,EAAC;AAA0B;;;EAO9BA,KAAK,EAAC;AAAwB;;;;EAa9BA,KAAK,EAAC;AAAqB;;;EAU3BA,KAAK,EAAC;AAAkB;;SA/BtBC,MAAA,CAAAC,IAAI,I,cAAfC,mBAAA,CAmCM;;IAnCWH,KAAK,EAAC,wBAAwB;IAAEI,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAOC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;MAChEG,mBAAA,CAiCM,OAjCNC,UAiCM,GAhCJD,mBAAA,CAAyD;IAAjDV,KAAK,EAAC,WAAW;IAAEI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;KAAE,GAAO,GAEhDG,mBAAA,CAES;IAFDV,KAAK,EAAC,kBAAkB;IAAEI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAI,SAAA,IAAAJ,QAAA,CAAAI,SAAA,IAAAL,IAAA,CAAS;IAAGM,QAAQ,EAAEC,KAAA,CAAAC,YAAY;KAAQ,KAEnF,iBAAAC,UAAA,GAEAN,mBAAA,CAOM,OAPNO,UAOM,GANJP,mBAAA,CAKC;IAJEQ,GAAG,EAAEV,QAAA,CAAAW,YAAY;IACjBC,GAAG,QAAQN,KAAA,CAAAC,YAAY,QAAQd,MAAA,CAAAoB,MAAM,CAACC,MAAM;IAC7CtB,KAAK,EAAC,gBAAgB;IACrBuB,OAAK,EAAAlB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAgB,gBAAA,IAAAhB,QAAA,CAAAgB,gBAAA,IAAAjB,IAAA,CAAgB;0DAI5BG,mBAAA,CAES;IAFDV,KAAK,EAAC,kBAAkB;IAAEI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAiB,SAAA,IAAAjB,QAAA,CAAAiB,SAAA,IAAAlB,IAAA,CAAS;IAAGM,QAAQ,EAAEC,KAAA,CAAAC,YAAY,KAAKd,MAAA,CAAAoB,MAAM,CAACC,MAAM;KAAM,KAEnG,iBAAAI,UAAA,GAEAhB,mBAAA,CAQM,OARNiB,UAQM,I,kBAPJxB,mBAAA,CAMQyB,SAAA,QAAAC,WAAA,CALiB5B,MAAA,CAAAoB,MAAM,GAArBS,GAAG,EAAEC,KAAK;yBADpB5B,mBAAA,CAMQ;MAJL6B,GAAG,EAAED,KAAK;MACX/B,KAAK,EAAAiC,eAAA,EAAC,WAAW;QAAAC,MAAA,EACCH,KAAK,KAAKjB,KAAA,CAAAC;MAAY;MACvCX,OAAK,EAAA+B,MAAA,IAAE3B,QAAA,CAAA4B,SAAS,CAACL,KAAK;;oCAI3BrB,mBAAA,CAEM,OAFN2B,UAEM,EAAAC,gBAAA,CADDxB,KAAA,CAAAC,YAAY,QAAO,KAAG,GAAAuB,gBAAA,CAAGrC,MAAA,CAAAoB,MAAM,CAACC,MAAM,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}