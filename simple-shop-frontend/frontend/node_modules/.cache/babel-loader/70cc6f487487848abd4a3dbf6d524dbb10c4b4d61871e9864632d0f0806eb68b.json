{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"image-carousel-container\"\n};\nconst _hoisted_2 = [\"disabled\"];\nconst _hoisted_3 = {\n  class: \"carousel-image-wrapper\"\n};\nconst _hoisted_4 = [\"src\", \"alt\"];\nconst _hoisted_5 = [\"disabled\"];\nconst _hoisted_6 = {\n  class: \"carousel-indicators\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  class: \"carousel-counter\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return $props.show ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"image-carousel-overlay\",\n    onClick: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.close && $options.close(...args), [\"self\"]))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"button\", {\n    class: \"close-btn\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.close && $options.close(...args))\n  }, \"×\"), _createElementVNode(\"button\", {\n    class: \"nav-btn prev-btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.prevImage && $options.prevImage(...args)),\n    disabled: $data.currentIndex === 0\n  }, \" < \", 8 /* PROPS */, _hoisted_2), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    src: $options.currentImage,\n    alt: `图片 ${$data.currentIndex + 1}/${$props.images.length}`,\n    class: \"carousel-image\",\n    onError: _cache[2] || (_cache[2] = (...args) => $options.handleImageError && $options.handleImageError(...args))\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_4)]), _createElementVNode(\"button\", {\n    class: \"nav-btn next-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.nextImage && $options.nextImage(...args)),\n    disabled: $data.currentIndex === $props.images.length - 1\n  }, \" > \", 8 /* PROPS */, _hoisted_5), _createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.images, (img, index) => {\n    return _openBlock(), _createElementBlock(\"span\", {\n      key: index,\n      class: _normalizeClass([\"indicator\", {\n        active: index === $data.currentIndex\n      }]),\n      onClick: $event => $options.goToImage(index)\n    }, null, 10 /* CLASS, PROPS */, _hoisted_7);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($data.currentIndex + 1) + \" / \" + _toDisplayString($props.images.length), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"names":["class","$props","show","_createElementBlock","onClick","_cache","_withModifiers","args","$options","close","_createElementVNode","_hoisted_1","prevImage","disabled","$data","currentIndex","_hoisted_2","_hoisted_3","src","currentImage","alt","images","length","onError","handleImageError","nextImage","_hoisted_5","_hoisted_6","_Fragment","_renderList","img","index","key","_normalizeClass","active","$event","goToImage","_hoisted_8","_toDisplayString"],"sources":["D:\\game\\SE\\simple-shop-frontend\\frontend\\src\\components\\ImageCarousel.vue"],"sourcesContent":["<template>\r\n  <div v-if=\"show\" class=\"image-carousel-overlay\" @click.self=\"close\">\r\n    <div class=\"image-carousel-container\">\r\n      <button class=\"close-btn\" @click=\"close\">&times;</button>\r\n      \r\n      <button class=\"nav-btn prev-btn\" @click=\"prevImage\" :disabled=\"currentIndex === 0\">\r\n        &lt;\r\n      </button>\r\n      \r\n      <div class=\"carousel-image-wrapper\">\r\n        <img \r\n          :src=\"currentImage\" \r\n          :alt=\"`图片 ${currentIndex + 1}/${images.length}`\"\r\n          class=\"carousel-image\"\r\n          @error=\"handleImageError\"\r\n        >\r\n      </div>\r\n      \r\n      <button class=\"nav-btn next-btn\" @click=\"nextImage\" :disabled=\"currentIndex === images.length - 1\">\r\n        &gt;\r\n      </button>\r\n      \r\n      <div class=\"carousel-indicators\">\r\n        <span \r\n          v-for=\"(img, index) in images\" \r\n          :key=\"index\"\r\n          class=\"indicator\"\r\n          :class=\"{ active: index === currentIndex }\"\r\n          @click=\"goToImage(index)\"\r\n        ></span>\r\n      </div>\r\n      \r\n      <div class=\"carousel-counter\">\r\n        {{ currentIndex + 1 }} / {{ images.length }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ImageCarousel',\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    images: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    initialIndex: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      currentIndex: 0,\r\n      defaultImage: 'https://img.pngsucai.com/00/87/02/31a2f72e4e901438.webp'\r\n    }\r\n  },\r\n  computed: {\r\n    currentImage() {\r\n      if (this.images.length === 0) return this.defaultImage;\r\n      return this.images[this.currentIndex] || this.defaultImage;\r\n    }\r\n  },\r\n  watch: {\r\n    show(newVal) {\r\n      if (newVal) {\r\n        this.currentIndex = Math.min(this.initialIndex, this.images.length - 1);\r\n        this.addKeydownListener();\r\n      } else {\r\n        this.removeKeydownListener();\r\n      }\r\n    }\r\n  },\r\n  beforeUnmount() {\r\n    this.removeKeydownListener();\r\n  },\r\n  methods: {\r\n    nextImage() {\r\n      if (this.currentIndex < this.images.length - 1) {\r\n        this.currentIndex++;\r\n      }\r\n    },\r\n    prevImage() {\r\n      if (this.currentIndex > 0) {\r\n        this.currentIndex--;\r\n      }\r\n    },\r\n    goToImage(index) {\r\n      if (index >= 0 && index < this.images.length) {\r\n        this.currentIndex = index;\r\n      }\r\n    },\r\n    close() {\r\n      this.$emit('close');\r\n    },\r\n    handleImageError(e) {\r\n      e.target.src = this.defaultImage;\r\n    },\r\n    addKeydownListener() {\r\n      document.addEventListener('keydown', this.handleKeydown);\r\n    },\r\n    removeKeydownListener() {\r\n      document.removeEventListener('keydown', this.handleKeydown);\r\n    },\r\n    handleKeydown(e) {\r\n      switch(e.key) {\r\n        case 'ArrowRight':\r\n          this.nextImage();\r\n          break;\r\n        case 'ArrowLeft':\r\n          this.prevImage();\r\n          break;\r\n        case 'Escape':\r\n          this.close();\r\n          break;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.image-carousel-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.9);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.image-carousel-container {\r\n  position: relative;\r\n  width: 90%;\r\n  height: 80%;\r\n  max-width: 1200px;\r\n}\r\n\r\n.close-btn {\r\n  position: absolute;\r\n  top: -40px;\r\n  right: 0;\r\n  background: none;\r\n  border: none;\r\n  color: white;\r\n  font-size: 2.5rem;\r\n  cursor: pointer;\r\n  z-index: 10;\r\n  width: 40px;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.close-btn:hover {\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n}\r\n\r\n.nav-btn {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  color: white;\r\n  border: none;\r\n  font-size: 2rem;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: background-color 0.3s;\r\n  z-index: 5;\r\n}\r\n\r\n.nav-btn:hover:not(:disabled) {\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n}\r\n\r\n.nav-btn:disabled {\r\n  opacity: 0.3;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.prev-btn {\r\n  left: 20px;\r\n}\r\n\r\n.next-btn {\r\n  right: 20px;\r\n}\r\n\r\n.carousel-image-wrapper {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.carousel-image {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  object-fit: contain;\r\n}\r\n\r\n.carousel-indicators {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.indicator {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 50%;\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.indicator.active {\r\n  background-color: white;\r\n  width: 20px;\r\n  border-radius: 6px;\r\n}\r\n\r\n.carousel-counter {\r\n  position: absolute;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  color: white;\r\n  padding: 5px 10px;\r\n  border-radius: 4px;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .image-carousel-container {\r\n    width: 95%;\r\n    height: 70%;\r\n  }\r\n  \r\n  .nav-btn {\r\n    font-size: 1.5rem;\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n  \r\n  .prev-btn {\r\n    left: 10px;\r\n  }\r\n  \r\n  .next-btn {\r\n    right: 10px;\r\n  }\r\n}\r\n</style>"],"mappings":";;EAESA,KAAK,EAAC;AAA0B;;;EAO9BA,KAAK,EAAC;AAAwB;;;;EAa9BA,KAAK,EAAC;AAAqB;;;EAU3BA,KAAK,EAAC;AAAkB;;SA/BtBC,MAAA,CAAAC,IAAI,I,cAAfC,mBAAA,CAmCM;;IAnCWH,KAAK,EAAC,wBAAwB;IAAEI,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAOC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;MAChEG,mBAAA,CAiCM,OAjCNC,UAiCM,GAhCJD,mBAAA,CAAyD;IAAjDV,KAAK,EAAC,WAAW;IAAEI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;KAAE,GAAO,GAEhDG,mBAAA,CAES;IAFDV,KAAK,EAAC,kBAAkB;IAAEI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAI,SAAA,IAAAJ,QAAA,CAAAI,SAAA,IAAAL,IAAA,CAAS;IAAGM,QAAQ,EAAEC,KAAA,CAAAC,YAAY;KAAQ,KAEnF,iBAAAC,UAAA,GAEAN,mBAAA,CAOM,OAPNO,UAOM,GANJP,mBAAA,CAKC;IAJEQ,GAAG,EAAEV,QAAA,CAAAW,YAAY;IACjBC,GAAG,QAAQN,KAAA,CAAAC,YAAY,QAAQd,MAAA,CAAAoB,MAAM,CAACC,MAAM;IAC7CtB,KAAK,EAAC,gBAAgB;IACrBuB,OAAK,EAAAlB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAgB,gBAAA,IAAAhB,QAAA,CAAAgB,gBAAA,IAAAjB,IAAA,CAAgB;0DAI5BG,mBAAA,CAES;IAFDV,KAAK,EAAC,kBAAkB;IAAEI,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAiB,SAAA,IAAAjB,QAAA,CAAAiB,SAAA,IAAAlB,IAAA,CAAS;IAAGM,QAAQ,EAAEC,KAAA,CAAAC,YAAY,KAAKd,MAAA,CAAAoB,MAAM,CAACC,MAAM;KAAM,KAEnG,iBAAAI,UAAA,GAEAhB,mBAAA,CAQM,OARNiB,UAQM,I,kBAPJxB,mBAAA,CAMQyB,SAAA,QAAAC,WAAA,CALiB5B,MAAA,CAAAoB,MAAM,GAArBS,GAAG,EAAEC,KAAK;yBADpB5B,mBAAA,CAMQ;MAJL6B,GAAG,EAAED,KAAK;MACX/B,KAAK,EAAAiC,eAAA,EAAC,WAAW;QAAAC,MAAA,EACCH,KAAK,KAAKjB,KAAA,CAAAC;MAAY;MACvCX,OAAK,EAAA+B,MAAA,IAAE3B,QAAA,CAAA4B,SAAS,CAACL,KAAK;;oCAI3BrB,mBAAA,CAEM,OAFN2B,UAEM,EAAAC,gBAAA,CADDxB,KAAA,CAAAC,YAAY,QAAO,KAAG,GAAAuB,gBAAA,CAAGrC,MAAA,CAAAoB,MAAM,CAACC,MAAM,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}