{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { createRouter, createWebHistory } from 'vue-router';\nimport HomeView from '../views/HomeView.vue';\nimport SellerLogin from '../views/SellerLogin.vue';\nimport SellerDashboard from '../views/SellerDashboard.vue';\nimport ProductForm from '../views/ProductForm.vue';\nimport ProductHistory from '../views/ProductHistory.vue';\nimport BuyerList from '../views/BuyerList.vue';\nimport ChangePassword from '../views/ChangePassword.vue';\nconst routes = [{\n  path: '/',\n  name: 'home',\n  component: HomeView\n}, {\n  path: '/seller/login',\n  name: 'sellerLogin',\n  component: SellerLogin\n}, {\n  path: '/seller/dashboard',\n  name: 'sellerDashboard',\n  component: SellerDashboard,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/seller/product/new',\n  name: 'newProduct',\n  component: ProductForm,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/seller/products',\n  name: 'productHistory',\n  component: ProductHistory,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/seller/buyers',\n  name: 'buyerList',\n  component: BuyerList,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/seller/change-password',\n  name: 'changePassword',\n  component: ChangePassword,\n  meta: {\n    requiresAuth: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\n// 路由守卫，检查是否已登录\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 检查是否已登录\n    if (!localStorage.getItem('sellerLoggedIn')) {\n      next({\n        name: 'sellerLogin'\n      });\n    } else {\n      next();\n    }\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","HomeView","SellerLogin","SellerDashboard","ProductForm","ProductHistory","BuyerList","ChangePassword","routes","path","name","component","meta","requiresAuth","router","history","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","localStorage","getItem"],"sources":["E:/购物网站/simple-shop-frontend/frontend/src/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport HomeView from '../views/HomeView.vue'\nimport SellerLogin from '../views/SellerLogin.vue'\nimport SellerDashboard from '../views/SellerDashboard.vue'\nimport ProductForm from '../views/ProductForm.vue'\nimport ProductHistory from '../views/ProductHistory.vue'\nimport BuyerList from '../views/BuyerList.vue'\nimport ChangePassword from '../views/ChangePassword.vue'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'home',\n    component: HomeView\n  },\n  {\n    path: '/seller/login',\n    name: 'sellerLogin',\n    component: SellerLogin\n  },\n  {\n    path: '/seller/dashboard',\n    name: 'sellerDashboard',\n    component: SellerDashboard,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/seller/product/new',\n    name: 'newProduct',\n    component: ProductForm,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/seller/products',\n    name: 'productHistory',\n    component: ProductHistory,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/seller/buyers',\n    name: 'buyerList',\n    component: BuyerList,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/seller/change-password',\n    name: 'changePassword',\n    component: ChangePassword,\n    meta: { requiresAuth: true }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\n// 路由守卫，检查是否已登录\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // 检查是否已登录\n    if (!localStorage.getItem('sellerLoggedIn')) {\n      next({ name: 'sellerLogin' })\n    } else {\n      next()\n    }\n  } else {\n    next()\n  }\n})\n\nexport default router\n"],"mappings":";;AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,eAAe,MAAM,8BAA8B;AAC1D,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,cAAc,MAAM,6BAA6B;AACxD,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,cAAc,MAAM,6BAA6B;AAExD,MAAMC,MAAM,GAAG,CACb;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEV;AACb,CAAC,EACD;EACEQ,IAAI,EAAE,eAAe;EACrBC,IAAI,EAAE,aAAa;EACnBC,SAAS,EAAET;AACb,CAAC,EACD;EACEO,IAAI,EAAE,mBAAmB;EACzBC,IAAI,EAAE,iBAAiB;EACvBC,SAAS,EAAER,eAAe;EAC1BS,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,qBAAqB;EAC3BC,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEP,WAAW;EACtBQ,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,kBAAkB;EACxBC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEN,cAAc;EACzBO,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,gBAAgB;EACtBC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEL,SAAS;EACpBM,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,EACD;EACEJ,IAAI,EAAE,yBAAyB;EAC/BC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEJ,cAAc;EACzBK,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC7B,CAAC,CACF;AAED,MAAMC,MAAM,GAAGf,YAAY,CAAC;EAC1BgB,OAAO,EAAEf,gBAAgB,CAACgB,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CV;AACF,CAAC,CAAC;;AAEF;AACAM,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACpC,IAAIF,EAAE,CAACG,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACb,IAAI,CAACC,YAAY,CAAC,EAAE;IACvD;IACA,IAAI,CAACa,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,EAAE;MAC3CL,IAAI,CAAC;QAAEZ,IAAI,EAAE;MAAc,CAAC,CAAC;IAC/B,CAAC,MAAM;MACLY,IAAI,CAAC,CAAC;IACR;EACF,CAAC,MAAM;IACLA,IAAI,CAAC,CAAC;EACR;AACF,CAAC,CAAC;AAEF,eAAeR,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}