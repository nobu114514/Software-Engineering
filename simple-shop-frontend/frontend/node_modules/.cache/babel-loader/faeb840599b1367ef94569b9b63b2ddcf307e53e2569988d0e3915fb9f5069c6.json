{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"product-batch-form\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"alert alert-danger\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"alert alert-success\"\n};\nconst _hoisted_5 = {\n  key: 3,\n  class: \"card\"\n};\nconst _hoisted_6 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_7 = {\n  class: \"batch-table\"\n};\nconst _hoisted_8 = [\"onUpdate:modelValue\"];\nconst _hoisted_9 = [\"onUpdate:modelValue\", \"onChange\"];\nconst _hoisted_10 = {\n  key: 0,\n  value: 'same'\n};\nconst _hoisted_11 = [\"value\"];\nconst _hoisted_12 = [\"onUpdate:modelValue\"];\nconst _hoisted_13 = {\n  key: 0,\n  value: 'same'\n};\nconst _hoisted_14 = [\"value\"];\nconst _hoisted_15 = [\"onUpdate:modelValue\"];\nconst _hoisted_16 = [\"onUpdate:modelValue\"];\nconst _hoisted_17 = [\"onUpdate:modelValue\"];\nconst _hoisted_18 = [\"onClick\", \"disabled\"];\nconst _hoisted_19 = {\n  class: \"add-button-container\"\n};\nconst _hoisted_20 = {\n  class: \"form-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h1\", null, \"批量发布商品\", -1 /* CACHED */)), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"加载中...\")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.success ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \" 商品批量发布成功！ \")) : _createCommentVNode(\"v-if\", true), !$data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [_cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    style: {\n      \"width\": \"5%\"\n    }\n  }, \"序号\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"15%\"\n    }\n  }, \"商品名称\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"15%\"\n    }\n  }, \"商品分类\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"15%\"\n    }\n  }, \"商品子分类\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"10%\"\n    }\n  }, \"商品价格\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"10%\"\n    }\n  }, \"商品主题\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"24%\"\n    }\n  }, \"商品详情\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"6%\"\n    }\n  }, \"操作\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => item.name = $event,\n      required: \"\",\n      placeholder: \"请输入商品名称\"\n    }, null, 8 /* PROPS */, _hoisted_8), [[_vModelText, item.name]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => item.categoryId = $event,\n      onChange: $event => $options.onCategoryChange(index),\n      required: \"\"\n    }, [index > 0 ? (_openBlock(), _createElementBlock(\"option\", _hoisted_10, \"同上\")) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, category => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: category.id,\n        value: category.id\n      }, _toDisplayString(category.name), 9 /* TEXT, PROPS */, _hoisted_11);\n    }), 128 /* KEYED_FRAGMENT */))], 40 /* PROPS, NEED_HYDRATION */, _hoisted_9), [[_vModelSelect, item.categoryId]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => item.subCategory = $event,\n      required: \"\"\n    }, [_createCommentVNode(\" 当一级分类不为\\\"同上\\\"且与上一个一级分类相同时，才显示二级分类的\\\"同上\\\"选项 \"), _createCommentVNode(\" 换句话说：如果一级分类为\\\"同上\\\"或与上一个一级分类相同，才显示\\\"同上\\\"选项 \"), index > 0 && (item.categoryId === 'same' || $options.hasSameCategoryAsPrevious(index)) ? (_openBlock(), _createElementBlock(\"option\", _hoisted_13, \"同上\")) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.getSubCategories(index), subCategory => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: subCategory.id,\n        value: subCategory\n      }, _toDisplayString(subCategory.name), 9 /* TEXT, PROPS */, _hoisted_14);\n    }), 128 /* KEYED_FRAGMENT */))], 8 /* PROPS */, _hoisted_12), [[_vModelSelect, item.subCategory]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"onUpdate:modelValue\": $event => item.price = $event,\n      min: \"0\",\n      step: \"0.01\",\n      required: \"\",\n      placeholder: \"0.00\"\n    }, null, 8 /* PROPS */, _hoisted_15), [[_vModelText, item.price]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => item.theme = $event,\n      placeholder: \"非必填\"\n    }, null, 8 /* PROPS */, _hoisted_16), [[_vModelText, item.theme]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": $event => item.description = $event,\n      placeholder: \"请输入商品详情\"\n    }, null, 8 /* PROPS */, _hoisted_17), [[_vModelText, item.description]])]), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.removeRow(index),\n      class: \"btn-circle remove-btn\",\n      title: \"删除一行\",\n      disabled: $data.products.length <= 1\n    }, \"-\", 8 /* PROPS */, _hoisted_18)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addRow && $options.addRow(...args)),\n    class: \"btn-circle add-btn\",\n    title: \"添加一行\"\n  }, \"+\")]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.batchPublish && $options.batchPublish(...args)),\n    class: \"btn btn-primary\"\n  }, \"批量发布\"), _cache[3] || (_cache[3] = _createElementVNode(\"a\", {\n    href: \"/seller/product/new\",\n    class: \"btn btn-secondary\"\n  }, \"返回\", -1 /* CACHED */))])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","value","_createElementBlock","_hoisted_1","_createElementVNode","$data","loading","_hoisted_2","error","_hoisted_3","_toDisplayString","success","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","style","_Fragment","_renderList","products","item","index","key","type","name","$event","required","placeholder","categoryId","onChange","$options","onCategoryChange","_hoisted_10","categories","category","id","_hoisted_11","subCategory","_createCommentVNode","hasSameCategoryAsPrevious","_hoisted_13","getSubCategories","_hoisted_14","price","min","step","theme","description","onClick","removeRow","title","disabled","length","_hoisted_18","_hoisted_19","_cache","args","addRow","_hoisted_20","batchPublish","href"],"sources":["F:\\作业\\Software-Engineering2.0\\litemall\\simple-shop-frontend\\frontend\\src\\views\\ProductBatchForm.vue"],"sourcesContent":["<template>\n  <div class=\"product-batch-form\">\n    <h1>批量发布商品</h1>\n    \n    <div v-if=\"loading\" class=\"loading\">加载中...</div>\n    \n    <div v-if=\"error\" class=\"alert alert-danger\">\n      {{ error }}\n    </div>\n    \n    <div v-if=\"success\" class=\"alert alert-success\">\n      商品批量发布成功！\n    </div>\n    \n    <div v-if=\"!loading\" class=\"card\">\n      <div class=\"table-responsive\">\n        <table class=\"batch-table\">\n          <thead>\n            <tr>\n              <th style=\"width: 5%\">序号</th>\n              <th style=\"width: 15%\">商品名称</th>\n              <th style=\"width: 15%\">商品分类</th>\n              <th style=\"width: 15%\">商品子分类</th>\n              <th style=\"width: 10%\">商品价格</th>\n              <th style=\"width: 10%\">商品主题</th>\n              <th style=\"width: 24%\">商品详情</th>\n              <th style=\"width: 6%\">操作</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, index) in products\" :key=\"index\">\n              <td>{{ index + 1 }}</td>\n              <td>\n                <input type=\"text\" v-model=\"item.name\" required placeholder=\"请输入商品名称\">\n              </td>\n              <td>\n                <select v-model=\"item.categoryId\" @change=\"onCategoryChange(index)\" required>\n                  <option v-if=\"index > 0\" :value=\"'same'\">同上</option>\n                  <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\n                    {{ category.name }}\n                  </option>\n                </select>\n              </td>\n              <td>\n                <select v-model=\"item.subCategory\" required>\n                  <!-- 当一级分类不为\"同上\"且与上一个一级分类相同时，才显示二级分类的\"同上\"选项 -->\n                  <!-- 换句话说：如果一级分类为\"同上\"或与上一个一级分类相同，才显示\"同上\"选项 -->\n                  <option v-if=\"index > 0 && (item.categoryId === 'same' || hasSameCategoryAsPrevious(index))\" :value=\"'same'\">同上</option>\n                  <option v-for=\"subCategory in getSubCategories(index)\" :key=\"subCategory.id\" :value=\"subCategory\">\n                    {{ subCategory.name }}\n                  </option>\n                </select>\n              </td>\n              <td>\n                <input type=\"number\" v-model=\"item.price\" min=\"0\" step=\"0.01\" required placeholder=\"0.00\">\n              </td>\n              <td>\n                <input type=\"text\" v-model=\"item.theme\" placeholder=\"非必填\">\n              </td>\n              <td>\n                <textarea v-model=\"item.description\" placeholder=\"请输入商品详情\"></textarea>\n              </td>\n              <td>\n                <button @click=\"removeRow(index)\" class=\"btn-circle remove-btn\" title=\"删除一行\" :disabled=\"products.length <= 1\">-</button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      \n      <div class=\"add-button-container\">\n        <button @click=\"addRow\" class=\"btn-circle add-btn\" title=\"添加一行\">+</button>\n      </div>\n      \n      <div class=\"form-actions\">\n        <button @click=\"batchPublish\" class=\"btn btn-primary\">批量发布</button>\n        <a href=\"/seller/product/new\" class=\"btn btn-secondary\">返回</a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ProductBatchForm',\n  components: {\n  },\n  data() {\n      return {\n        products: [\n          {\n            name: '',\n            categoryId: null,\n            subCategory: null,\n            price: 0,\n            theme: '',\n            description: ''\n          },\n          {\n            name: '',\n            categoryId: 'same',\n            subCategory: 'same',\n            price: 0,\n            theme: '',\n            description: ''\n          }\n        ],\n        loading: true,\n        error: '',\n        success: false,\n        categories: [],\n        subCategoriesMap: {}\n      }\n    },\n  created() {\n    this.fetchCategories()\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        const response = await this.$axios.get('http://localhost:8081/api/categories/active')\n        this.categories = response.data.data || []\n        // 如果有分类，自动选择第一个分类作为默认值\n        if (this.categories.length > 0 && this.products[0].categoryId === null) {\n          this.products[0].categoryId = this.categories[0].id\n          this.loadSubCategories(this.categories[0].id, 0)\n        }\n        this.loading = false\n      } catch (err) {\n        this.error = '获取分类信息失败'\n        this.loading = false\n        console.error(err)\n      }\n    },\n    \n    async loadSubCategories(categoryId, index) {\n      if (!categoryId || categoryId === 'same') {\n        this.products[index].subCategory = index > 0 ? 'same' : null\n        return\n      }\n      \n      try {\n        // 如果已经加载过该分类的子分类，则直接使用\n        if (!this.subCategoriesMap[categoryId]) {\n          const response = await this.$axios.get(`http://localhost:8081/api/sub-categories/category/${categoryId}`)\n          this.subCategoriesMap[categoryId] = Array.isArray(response.data) ? response.data : []\n        }\n        \n        // 如果有子分类，自动选择第一个子分类\n        if (this.subCategoriesMap[categoryId].length > 0) {\n          this.products[index].subCategory = this.subCategoriesMap[categoryId][0]\n        } else {\n          this.products[index].subCategory = null\n        }\n      } catch (err) {\n        console.error('获取子分类信息失败', err)\n      }\n    },\n    \n    onCategoryChange(index) {\n      this.loadSubCategories(this.products[index].categoryId, index)\n      \n      // 处理当前行的二级分类：如果一级分类为\"同上\"或与上一行不同，不应该选择\"同上\"\n      const currentItem = this.products[index]\n      if (currentItem.categoryId === 'same' || !this.hasSameCategoryAsPrevious(index)) {\n        // 获取实际的分类ID\n        const actualCategoryId = this.getActualCategoryId(index)\n        // 如果有对应的子分类，选择第一个\n        if (actualCategoryId && this.subCategoriesMap[actualCategoryId] && this.subCategoriesMap[actualCategoryId].length > 0) {\n          currentItem.subCategory = this.subCategoriesMap[actualCategoryId][0]\n        } else {\n          currentItem.subCategory = null\n        }\n      }\n      \n      // 更新当前行之后的所有行的子分类\n      for (let i = index + 1; i < this.products.length; i++) {\n        if (this.products[i].categoryId === 'same') {\n          // 对于选择\"同上\"的行，根据实际分类决定子分类是否也可以\"同上\"\n          if (this.hasSameCategoryAsPrevious(i)) {\n            this.products[i].subCategory = 'same'\n          } else {\n            // 如果与上一行分类不同，则需要选择实际的子分类\n            const actualCategoryId = this.getActualCategoryId(i)\n            if (actualCategoryId && this.subCategoriesMap[actualCategoryId] && this.subCategoriesMap[actualCategoryId].length > 0) {\n              this.products[i].subCategory = this.subCategoriesMap[actualCategoryId][0]\n            } else {\n              this.products[i].subCategory = null\n            }\n          }\n        }\n      }\n    },\n    \n    getSubCategories(index) {\n      const categoryId = this.products[index].categoryId\n      if (categoryId === 'same') {\n        // 向上查找第一个非'same'的分类ID\n        for (let i = index - 1; i >= 0; i--) {\n          if (this.products[i].categoryId && this.products[i].categoryId !== 'same') {\n            return this.subCategoriesMap[this.products[i].categoryId] || []\n          }\n        }\n      }\n      return categoryId && categoryId !== 'same' ? this.subCategoriesMap[categoryId] || [] : []\n    },\n    \n    // 获取实际的分类ID（处理'same'逻辑）\n    getActualCategoryId(index) {\n      if (this.products[index].categoryId === 'same') {\n        // 向上查找第一个有效的分类ID\n        for (let i = index - 1; i >= 0; i--) {\n          if (this.products[i].categoryId && this.products[i].categoryId !== 'same') {\n            return this.products[i].categoryId\n          }\n        }\n      }\n      return this.products[index].categoryId\n    },\n    \n    // 获取实际的子分类（处理'same'逻辑）\n    getActualSubCategory(index) {\n      if (this.products[index].subCategory === 'same') {\n        // 向上查找第一个有效的子分类\n        for (let i = index - 1; i >= 0; i--) {\n          if (this.products[i].subCategory && this.products[i].subCategory !== 'same') {\n            return this.products[i].subCategory\n          }\n        }\n      }\n      return this.products[index].subCategory\n    },\n    \n    // 检查当前行的一级分类是否与上一行相同\n    hasSameCategoryAsPrevious(index) {\n      if (index <= 0) return false;\n      \n      const currentCategoryId = this.getActualCategoryId(index);\n      const prevCategoryId = this.getActualCategoryId(index - 1);\n      \n      return currentCategoryId === prevCategoryId;\n    },\n    \n    addRow() {\n      // 创建新行，默认选择\"同上\"\n      const newRow = {\n        name: '',\n        categoryId: 'same',\n        subCategory: null, // 默认不设为\"同上\"，根据分类匹配决定是否允许\n        price: 0,\n        theme: '',\n        description: ''\n      }\n      \n      // 在末尾添加新行\n      this.products.push(newRow)\n      \n      // 检查新添加的行是否应该有\"同上\"选项的二级分类\n      const newIndex = this.products.length - 1\n      if (newIndex > 0) {\n        // 如果当前行的一级分类与上一行相同（即使是'same'，也要检查实际分类）\n        if (this.hasSameCategoryAsPrevious(newIndex)) {\n          // 可以设置为\"同上\"\n          this.products[newIndex].subCategory = 'same'\n        } else {\n          // 否则需要选择一个实际的子分类\n          const actualCategoryId = this.getActualCategoryId(newIndex)\n          if (actualCategoryId && this.subCategoriesMap[actualCategoryId] && this.subCategoriesMap[actualCategoryId].length > 0) {\n            this.products[newIndex].subCategory = this.subCategoriesMap[actualCategoryId][0]\n          }\n        }\n      }\n    },\n    \n    removeRow(index) {\n      if (this.products.length > 1) {\n        // 保存被删除行的实际分类信息\n        const deletedCategoryId = this.getActualCategoryId(index)\n        const deletedSubCategory = this.getActualSubCategory(index)\n        \n        // 删除该行\n        this.products.splice(index, 1)\n        \n        // 只检查并更新删除行的下一个商品（如果该商品的一二级分类是\"同上\"）\n        const nextIndex = index // 删除后，下一个商品的索引就是原来的删除位置\n        if (nextIndex < this.products.length) {\n          const nextProduct = this.products[nextIndex]\n          // 只有当下一个商品的分类或子分类是\"同上\"时，才需要更新\n          if (nextProduct.categoryId === 'same' || nextProduct.subCategory === 'same') {\n            // 使用被删除行的实际分类信息\n            if (nextProduct.categoryId === 'same' && deletedCategoryId) {\n              nextProduct.categoryId = deletedCategoryId\n            }\n            if (nextProduct.subCategory === 'same' && deletedSubCategory) {\n              nextProduct.subCategory = deletedSubCategory\n            }\n          }\n        }\n      }\n    },\n    \n    async batchPublish() {\n      // 验证所有必填字段\n      for (let i = 0; i < this.products.length; i++) {\n        const product = this.products[i]\n        if (!product.name || !this.getActualCategoryId(i) || !this.getActualSubCategory(i) || !product.price) {\n          this.error = `第 ${i + 1} 行商品信息不完整，请检查`\n          return\n        }\n      }\n      \n      this.error = ''\n      this.loading = true\n      \n      try {\n        // 逐个发布商品\n        const publishPromises = this.products.map((product, index) => {\n          // 构建商品对象，使用实际的子分类\n          const actualSubCategory = this.getActualSubCategory(index)\n          const productData = {\n            name: product.name,\n            subCategory: actualSubCategory,\n            price: product.price,\n            description: product.description,\n            theme: product.theme\n          }\n          return this.$axios.post('http://localhost:8081/api/products', productData)\n        })\n        \n        await Promise.all(publishPromises)\n        this.success = true\n        \n        // 发布成功后重置表单\n        setTimeout(() => {\n          this.$router.push('/seller/dashboard')\n        }, 1500)\n      } catch (err) {\n        this.error = '批量发布失败，请重试'\n        console.error(err)\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.product-batch-form {\n  max-width: 100%;\n  margin: 0 auto;\n}\n\n.table-responsive {\n  overflow-x: auto;\n  margin-bottom: 1.5rem;\n}\n\n.batch-table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.batch-table th,\n.batch-table td {\n  padding: 0.75rem;\n  text-align: left;\n  border-bottom: 1px solid #ddd;\n}\n\n.batch-table th {\n  background-color: #f5f5f5;\n  font-weight: 600;\n}\n\n.batch-table input,\n.batch-table select,\n.batch-table textarea {\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 0.875rem;\n}\n\n.batch-table textarea {\n  min-height: 60px;\n  resize: vertical;\n}\n\n.add-button-container {\n  display: flex;\n  justify-content: flex-start;\n  margin-top: 1rem;\n}\n\n.action-buttons {\n  display: flex;\n  align-items: center;\n}\n\n.btn-circle {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  border: none;\n  color: white;\n  font-size: 18px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background-color 0.3s ease;\n}\n\n.add-btn {\n  background-color: #4CAF50;\n}\n\n.add-btn:hover {\n  background-color: #45a049;\n}\n\n.remove-btn {\n  background-color: #f44336;\n}\n\n.remove-btn:hover {\n  background-color: #da190b;\n}\n\n.remove-btn:disabled {\n  background-color: #cccccc;\n  cursor: not-allowed;\n}\n\n.form-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n  margin-top: 1.5rem;\n}\n\n.loading {\n  text-align: center;\n  padding: 2rem;\n  font-size: 1.2rem;\n}\n\n.alert {\n  padding: 1rem;\n  margin-bottom: 1.5rem;\n  border-radius: 4px;\n}\n\n.alert-danger {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n}\n\n.alert-success {\n  background-color: #d4edda;\n  color: #155724;\n  border: 1px solid #c3e6cb;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .table-controls {\n    flex-direction: column;\n  }\n  \n  .form-actions {\n    flex-direction: column;\n  }\n  \n  .batch-table {\n    font-size: 0.875rem;\n  }\n  \n  .batch-table th,\n  .batch-table td {\n    padding: 0.5rem;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}