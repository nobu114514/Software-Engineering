{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect } from \"vue\";\nconst _hoisted_1 = {\n  class: \"product-batch-form\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loading\"\n};\nconst _hoisted_3 = {\n  key: 1,\n  class: \"alert alert-danger\"\n};\nconst _hoisted_4 = {\n  key: 2,\n  class: \"alert alert-success\"\n};\nconst _hoisted_5 = {\n  key: 3,\n  class: \"card\"\n};\nconst _hoisted_6 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_7 = {\n  class: \"batch-table\"\n};\nconst _hoisted_8 = [\"onUpdate:modelValue\"];\nconst _hoisted_9 = [\"onUpdate:modelValue\", \"onChange\"];\nconst _hoisted_10 = {\n  key: 0,\n  value: 'same'\n};\nconst _hoisted_11 = [\"value\"];\nconst _hoisted_12 = [\"onUpdate:modelValue\"];\nconst _hoisted_13 = {\n  key: 0,\n  value: 'same'\n};\nconst _hoisted_14 = [\"value\"];\nconst _hoisted_15 = [\"onUpdate:modelValue\"];\nconst _hoisted_16 = [\"onUpdate:modelValue\"];\nconst _hoisted_17 = [\"onUpdate:modelValue\"];\nconst _hoisted_18 = [\"onClick\", \"disabled\"];\nconst _hoisted_19 = {\n  class: \"add-button-container\"\n};\nconst _hoisted_20 = {\n  class: \"form-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[4] || (_cache[4] = _createElementVNode(\"h1\", null, \"批量发布商品\", -1 /* CACHED */)), $data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \"加载中...\")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.success ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, \" 商品批量发布成功！ \")) : _createCommentVNode(\"v-if\", true), !$data.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"table\", _hoisted_7, [_cache[2] || (_cache[2] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    style: {\n      \"width\": \"5%\"\n    }\n  }, \"序号\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"15%\"\n    }\n  }, \"商品名称\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"15%\"\n    }\n  }, \"商品分类\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"15%\"\n    }\n  }, \"商品子分类\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"10%\"\n    }\n  }, \"商品价格\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"10%\"\n    }\n  }, \"商品主题\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"24%\"\n    }\n  }, \"商品详情\"), _createElementVNode(\"th\", {\n    style: {\n      \"width\": \"6%\"\n    }\n  }, \"操作\")])], -1 /* CACHED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, (item, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: index\n    }, [_createElementVNode(\"td\", null, _toDisplayString(index + 1), 1 /* TEXT */), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => item.name = $event,\n      required: \"\",\n      placeholder: \"请输入商品名称\"\n    }, null, 8 /* PROPS */, _hoisted_8), [[_vModelText, item.name]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => item.categoryId = $event,\n      onChange: $event => $options.onCategoryChange(index),\n      required: \"\"\n    }, [index > 0 ? (_openBlock(), _createElementBlock(\"option\", _hoisted_10, \"同上\")) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, category => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: category.id,\n        value: category.id\n      }, _toDisplayString(category.name), 9 /* TEXT, PROPS */, _hoisted_11);\n    }), 128 /* KEYED_FRAGMENT */))], 40 /* PROPS, NEED_HYDRATION */, _hoisted_9), [[_vModelSelect, item.categoryId]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => item.subCategory = $event,\n      required: \"\"\n    }, [_createCommentVNode(\" 当一级分类不为\\\"同上\\\"且与上一个一级分类相同时，才显示二级分类的\\\"同上\\\"选项 \"), _createCommentVNode(\" 换句话说：如果一级分类为\\\"同上\\\"或与上一个一级分类相同，才显示\\\"同上\\\"选项 \"), index > 0 && (item.categoryId === 'same' || $options.hasSameCategoryAsPrevious(index)) ? (_openBlock(), _createElementBlock(\"option\", _hoisted_13, \"同上\")) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.getSubCategories(index), subCategory => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: subCategory.id,\n        value: subCategory\n      }, _toDisplayString(subCategory.name), 9 /* TEXT, PROPS */, _hoisted_14);\n    }), 128 /* KEYED_FRAGMENT */))], 8 /* PROPS */, _hoisted_12), [[_vModelSelect, item.subCategory]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"number\",\n      \"onUpdate:modelValue\": $event => item.price = $event,\n      min: \"0\",\n      step: \"0.01\",\n      required: \"\",\n      placeholder: \"0.00\"\n    }, null, 8 /* PROPS */, _hoisted_15), [[_vModelText, item.price]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": $event => item.theme = $event,\n      placeholder: \"非必填\"\n    }, null, 8 /* PROPS */, _hoisted_16), [[_vModelText, item.theme]])]), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"textarea\", {\n      \"onUpdate:modelValue\": $event => item.description = $event,\n      placeholder: \"请输入商品详情\"\n    }, null, 8 /* PROPS */, _hoisted_17), [[_vModelText, item.description]])]), _createElementVNode(\"td\", null, [_createElementVNode(\"button\", {\n      onClick: $event => $options.removeRow(index),\n      class: \"btn-circle remove-btn\",\n      title: \"删除一行\",\n      disabled: $data.products.length <= 1\n    }, \"-\", 8 /* PROPS */, _hoisted_18)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.addRow && $options.addRow(...args)),\n    class: \"btn-circle add-btn\",\n    title: \"添加一行\"\n  }, \"+\")]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.batchPublish && $options.batchPublish(...args)),\n    class: \"btn btn-primary\"\n  }, \"批量发布\"), _cache[3] || (_cache[3] = _createElementVNode(\"a\", {\n    href: \"/seller/product/new\",\n    class: \"btn btn-secondary\"\n  }, \"返回\", -1 /* CACHED */))])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","value","_createElementBlock","_hoisted_1","_createElementVNode","$data","loading","_hoisted_2","error","_hoisted_3","_toDisplayString","success","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","style","_Fragment","_renderList","products","item","index","key","type","name","$event","required","placeholder","categoryId","onChange","$options","onCategoryChange","_hoisted_10","categories","category","id","_hoisted_11","subCategory","_createCommentVNode","hasSameCategoryAsPrevious","_hoisted_13","getSubCategories","_hoisted_14","price","min","step","theme","description","onClick","removeRow","title","disabled","length","_hoisted_18","_hoisted_19","_cache","args","addRow","_hoisted_20","batchPublish","href"],"sources":["D:\\game\\SE\\simple-shop-frontend\\frontend\\src\\views\\ProductBatchForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"product-batch-form\">\r\n    <h1>批量发布商品</h1>\r\n    \r\n    <div v-if=\"loading\" class=\"loading\">加载中...</div>\r\n    \r\n    <div v-if=\"error\" class=\"alert alert-danger\">\r\n      {{ error }}\r\n    </div>\r\n    \r\n    <div v-if=\"success\" class=\"alert alert-success\">\r\n      商品批量发布成功！\r\n    </div>\r\n    \r\n    <div v-if=\"!loading\" class=\"card\">\r\n      <div class=\"table-responsive\">\r\n        <table class=\"batch-table\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width: 5%\">序号</th>\r\n              <th style=\"width: 15%\">商品名称</th>\r\n              <th style=\"width: 15%\">商品分类</th>\r\n              <th style=\"width: 15%\">商品子分类</th>\r\n              <th style=\"width: 10%\">商品价格</th>\r\n              <th style=\"width: 10%\">商品主题</th>\r\n              <th style=\"width: 24%\">商品详情</th>\r\n              <th style=\"width: 6%\">操作</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(item, index) in products\" :key=\"index\">\r\n              <td>{{ index + 1 }}</td>\r\n              <td>\r\n                <input type=\"text\" v-model=\"item.name\" required placeholder=\"请输入商品名称\">\r\n              </td>\r\n              <td>\r\n                <select v-model=\"item.categoryId\" @change=\"onCategoryChange(index)\" required>\r\n                  <option v-if=\"index > 0\" :value=\"'same'\">同上</option>\r\n                  <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\r\n                    {{ category.name }}\r\n                  </option>\r\n                </select>\r\n              </td>\r\n              <td>\r\n                <select v-model=\"item.subCategory\" required>\r\n                  <!-- 当一级分类不为\"同上\"且与上一个一级分类相同时，才显示二级分类的\"同上\"选项 -->\r\n                  <!-- 换句话说：如果一级分类为\"同上\"或与上一个一级分类相同，才显示\"同上\"选项 -->\r\n                  <option v-if=\"index > 0 && (item.categoryId === 'same' || hasSameCategoryAsPrevious(index))\" :value=\"'same'\">同上</option>\r\n                  <option v-for=\"subCategory in getSubCategories(index)\" :key=\"subCategory.id\" :value=\"subCategory\">\r\n                    {{ subCategory.name }}\r\n                  </option>\r\n                </select>\r\n              </td>\r\n              <td>\r\n                <input type=\"number\" v-model=\"item.price\" min=\"0\" step=\"0.01\" required placeholder=\"0.00\">\r\n              </td>\r\n              <td>\r\n                <input type=\"text\" v-model=\"item.theme\" placeholder=\"非必填\">\r\n              </td>\r\n              <td>\r\n                <textarea v-model=\"item.description\" placeholder=\"请输入商品详情\"></textarea>\r\n              </td>\r\n              <td>\r\n                <button @click=\"removeRow(index)\" class=\"btn-circle remove-btn\" title=\"删除一行\" :disabled=\"products.length <= 1\">-</button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      \r\n      <div class=\"add-button-container\">\r\n        <button @click=\"addRow\" class=\"btn-circle add-btn\" title=\"添加一行\">+</button>\r\n      </div>\r\n      \r\n      <div class=\"form-actions\">\r\n        <button @click=\"batchPublish\" class=\"btn btn-primary\">批量发布</button>\r\n        <a href=\"/seller/product/new\" class=\"btn btn-secondary\">返回</a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'ProductBatchForm',\r\n  components: {\r\n  },\r\n  data() {\r\n      return {\r\n        products: [\r\n          {\r\n            name: '',\r\n            categoryId: null,\r\n            subCategory: null,\r\n            price: 0,\r\n            theme: '',\r\n            description: ''\r\n          },\r\n          {\r\n            name: '',\r\n            categoryId: 'same',\r\n            subCategory: 'same',\r\n            price: 0,\r\n            theme: '',\r\n            description: ''\r\n          }\r\n        ],\r\n        loading: true,\r\n        error: '',\r\n        success: false,\r\n        categories: [],\r\n        subCategoriesMap: {}\r\n      }\r\n    },\r\n  created() {\r\n    this.fetchCategories()\r\n  },\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const response = await this.$axios.get('http://localhost:8081/api/categories/active')\r\n        this.categories = response.data.data || []\r\n        // 如果有分类，自动选择第一个分类作为默认值\r\n        if (this.categories.length > 0 && this.products[0].categoryId === null) {\r\n          this.products[0].categoryId = this.categories[0].id\r\n          this.loadSubCategories(this.categories[0].id, 0)\r\n        }\r\n        this.loading = false\r\n      } catch (err) {\r\n        this.error = '获取分类信息失败'\r\n        this.loading = false\r\n        console.error(err)\r\n      }\r\n    },\r\n    \r\n    async loadSubCategories(categoryId, index) {\r\n      if (!categoryId || categoryId === 'same') {\r\n        this.products[index].subCategory = index > 0 ? 'same' : null\r\n        return\r\n      }\r\n      \r\n      try {\r\n        // 如果已经加载过该分类的子分类，则直接使用\r\n        if (!this.subCategoriesMap[categoryId]) {\r\n          const response = await this.$axios.get(`http://localhost:8081/api/sub-categories/category/${categoryId}`)\r\n          this.subCategoriesMap[categoryId] = Array.isArray(response.data) ? response.data : []\r\n        }\r\n        \r\n        // 如果有子分类，自动选择第一个子分类\r\n        if (this.subCategoriesMap[categoryId].length > 0) {\r\n          this.products[index].subCategory = this.subCategoriesMap[categoryId][0]\r\n        } else {\r\n          this.products[index].subCategory = null\r\n        }\r\n      } catch (err) {\r\n        console.error('获取子分类信息失败', err)\r\n      }\r\n    },\r\n    \r\n    onCategoryChange(index) {\r\n      this.loadSubCategories(this.products[index].categoryId, index)\r\n      \r\n      // 处理当前行的二级分类：如果一级分类为\"同上\"或与上一行相同，可以选择\"同上\"\r\n      const currentItem = this.products[index]\r\n      if (currentItem.categoryId === 'same' || this.hasSameCategoryAsPrevious(index)) {\r\n        // 可以设置为\"同上\"\r\n        currentItem.subCategory = 'same'\r\n      } else {\r\n        // 否则需要选择一个实际的子分类\r\n        const actualCategoryId = this.getActualCategoryId(index)\r\n        if (actualCategoryId && this.subCategoriesMap[actualCategoryId] && this.subCategoriesMap[actualCategoryId].length > 0) {\r\n          currentItem.subCategory = this.subCategoriesMap[actualCategoryId][0]\r\n        } else {\r\n          currentItem.subCategory = null\r\n        }\r\n      }\r\n      \r\n      // 更新当前行之后的所有行的子分类\r\n      for (let i = index + 1; i < this.products.length; i++) {\r\n        if (this.products[i].categoryId === 'same') {\r\n          // 对于选择\"同上\"的行，可以直接设置子分类为\"同上\"\r\n          this.products[i].subCategory = 'same'\r\n        }\r\n      }\r\n    },\r\n    \r\n    getSubCategories(index) {\r\n      const categoryId = this.products[index].categoryId\r\n      if (categoryId === 'same') {\r\n        // 向上查找第一个非'same'的分类ID\r\n        for (let i = index - 1; i >= 0; i--) {\r\n          if (this.products[i].categoryId && this.products[i].categoryId !== 'same') {\r\n            return this.subCategoriesMap[this.products[i].categoryId] || []\r\n          }\r\n        }\r\n      }\r\n      return categoryId && categoryId !== 'same' ? this.subCategoriesMap[categoryId] || [] : []\r\n    },\r\n    \r\n    // 获取实际的分类ID（处理'same'逻辑）\r\n    getActualCategoryId(index) {\r\n      if (this.products[index].categoryId === 'same') {\r\n        // 向上查找第一个有效的分类ID\r\n        for (let i = index - 1; i >= 0; i--) {\r\n          if (this.products[i].categoryId && this.products[i].categoryId !== 'same') {\r\n            return this.products[i].categoryId\r\n          }\r\n        }\r\n      }\r\n      return this.products[index].categoryId\r\n    },\r\n    \r\n    // 获取实际的子分类（处理'same'逻辑）\r\n    getActualSubCategory(index) {\r\n      if (this.products[index].subCategory === 'same') {\r\n        // 向上查找第一个有效的子分类\r\n        for (let i = index - 1; i >= 0; i--) {\r\n          if (this.products[i].subCategory && this.products[i].subCategory !== 'same') {\r\n            return this.products[i].subCategory\r\n          }\r\n        }\r\n      }\r\n      return this.products[index].subCategory\r\n    },\r\n    \r\n    // 检查当前行的一级分类是否与上一行相同\r\n    hasSameCategoryAsPrevious(index) {\r\n      if (index <= 0) return false;\r\n      \r\n      const currentCategoryId = this.getActualCategoryId(index);\r\n      const prevCategoryId = this.getActualCategoryId(index - 1);\r\n      \r\n      return currentCategoryId === prevCategoryId;\r\n    },\r\n    \r\n    addRow() {\r\n      // 创建新行，默认选择\"同上\"\r\n      const newRow = {\r\n        name: '',\r\n        categoryId: 'same',\r\n        subCategory: 'same', // 因为一级分类是\"同上\"，所以二级分类也可以默认为\"同上\"\r\n        price: 0,\r\n        theme: '',\r\n        description: ''\r\n      }\r\n      \r\n      // 在末尾添加新行\r\n      this.products.push(newRow)\r\n    },\r\n    \r\n    removeRow(index) {\r\n      if (this.products.length > 1) {\r\n        // 保存被删除行的实际分类信息\r\n        const deletedCategoryId = this.getActualCategoryId(index)\r\n        const deletedSubCategory = this.getActualSubCategory(index)\r\n        \r\n        // 删除该行\r\n        this.products.splice(index, 1)\r\n        \r\n        // 只检查并更新删除行的下一个商品（如果该商品的一二级分类是\"同上\"）\r\n        const nextIndex = index // 删除后，下一个商品的索引就是原来的删除位置\r\n        if (nextIndex < this.products.length) {\r\n          const nextProduct = this.products[nextIndex]\r\n          // 只有当下一个商品的分类或子分类是\"同上\"时，才需要更新\r\n          if (nextProduct.categoryId === 'same' || nextProduct.subCategory === 'same') {\r\n            // 使用被删除行的实际分类信息\r\n            if (nextProduct.categoryId === 'same' && deletedCategoryId) {\r\n              nextProduct.categoryId = deletedCategoryId\r\n            }\r\n            if (nextProduct.subCategory === 'same' && deletedSubCategory) {\r\n              nextProduct.subCategory = deletedSubCategory\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    \r\n    async batchPublish() {\r\n      // 验证所有必填字段\r\n      for (let i = 0; i < this.products.length; i++) {\r\n        const product = this.products[i]\r\n        if (!product.name || !this.getActualCategoryId(i) || !this.getActualSubCategory(i) || !product.price) {\r\n          this.error = `第 ${i + 1} 行商品信息不完整，请检查`\r\n          return\r\n        }\r\n      }\r\n      \r\n      this.error = ''\r\n      this.loading = true\r\n      \r\n      try {\r\n        // 逐个发布商品\r\n        const publishPromises = this.products.map((product, index) => {\r\n          // 构建商品对象，使用实际的子分类\r\n          const actualSubCategory = this.getActualSubCategory(index)\r\n          const productData = {\r\n            name: product.name,\r\n            subCategory: actualSubCategory,\r\n            price: product.price,\r\n            description: product.description,\r\n            theme: product.theme\r\n          }\r\n          return this.$axios.post('http://localhost:8081/api/products', productData)\r\n        })\r\n        \r\n        await Promise.all(publishPromises)\r\n        this.success = true\r\n        \r\n        // 发布成功后重置表单\r\n        setTimeout(() => {\r\n          this.$router.push('/seller/dashboard')\r\n        }, 1500)\r\n      } catch (err) {\r\n        this.error = '批量发布失败，请重试'\r\n        console.error(err)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.product-batch-form {\r\n  max-width: 100%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.table-responsive {\r\n  overflow-x: auto;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.batch-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.batch-table th,\r\n.batch-table td {\r\n  padding: 0.75rem;\r\n  text-align: left;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.batch-table th {\r\n  background-color: #f5f5f5;\r\n  font-weight: 600;\r\n}\r\n\r\n.batch-table input,\r\n.batch-table select,\r\n.batch-table textarea {\r\n  width: 100%;\r\n  padding: 0.5rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.batch-table textarea {\r\n  min-height: 60px;\r\n  resize: vertical;\r\n}\r\n\r\n.add-button-container {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 1rem;\r\n}\r\n\r\n.action-buttons {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.btn-circle {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  border: none;\r\n  color: white;\r\n  font-size: 18px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.add-btn {\r\n  background-color: #4CAF50;\r\n}\r\n\r\n.add-btn:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n.remove-btn {\r\n  background-color: #f44336;\r\n}\r\n\r\n.remove-btn:hover {\r\n  background-color: #da190b;\r\n}\r\n\r\n.remove-btn:disabled {\r\n  background-color: #cccccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 1rem;\r\n  justify-content: flex-end;\r\n  margin-top: 1.5rem;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 2rem;\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.alert {\r\n  padding: 1rem;\r\n  margin-bottom: 1.5rem;\r\n  border-radius: 4px;\r\n}\r\n\r\n.alert-danger {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n  border: 1px solid #f5c6cb;\r\n}\r\n\r\n.alert-success {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n  border: 1px solid #c3e6cb;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .table-controls {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .form-actions {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .batch-table {\r\n    font-size: 0.875rem;\r\n  }\r\n  \r\n  .batch-table th,\r\n  .batch-table td {\r\n    padding: 0.5rem;\r\n  }\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAoB;;;EAGTA,KAAK,EAAC;;;;EAERA,KAAK,EAAC;;;;EAIJA,KAAK,EAAC;;;;EAILA,KAAK,EAAC;;;EACpBA,KAAK,EAAC;AAAkB;;EACpBA,KAAK,EAAC;AAAa;;;;;EAqBUC,KAAK,EAAE;;;;;;EAU6DA,KAAK,EAAE;;;;;;;;EAuB5GD,KAAK,EAAC;AAAsB;;EAI5BA,KAAK,EAAC;AAAc;;uBAzE7BE,mBAAA,CA8EM,OA9ENC,UA8EM,G,0BA7EJC,mBAAA,CAAe,YAAX,QAAM,qBAECC,KAAA,CAAAC,OAAO,I,cAAlBJ,mBAAA,CAAgD,OAAhDK,UAAgD,EAAZ,QAAM,K,mCAE/BF,KAAA,CAAAG,KAAK,I,cAAhBN,mBAAA,CAEM,OAFNO,UAEM,EAAAC,gBAAA,CADDL,KAAA,CAAAG,KAAK,oB,mCAGCH,KAAA,CAAAM,OAAO,I,cAAlBT,mBAAA,CAEM,OAFNU,UAEM,EAF0C,aAEhD,K,oCAEYP,KAAA,CAAAC,OAAO,I,cAAnBJ,mBAAA,CAgEM,OAhENW,UAgEM,GA/DJT,mBAAA,CAqDM,OArDNU,UAqDM,GApDJV,mBAAA,CAmDQ,SAnDRW,UAmDQ,G,0BAlDNX,mBAAA,CAWQ,gBAVNA,mBAAA,CASK,aARHA,mBAAA,CAA6B;IAAzBY,KAAiB,EAAjB;MAAA;IAAA;EAAiB,GAAC,IAAE,GACxBZ,mBAAA,CAAgC;IAA5BY,KAAkB,EAAlB;MAAA;IAAA;EAAkB,GAAC,MAAI,GAC3BZ,mBAAA,CAAgC;IAA5BY,KAAkB,EAAlB;MAAA;IAAA;EAAkB,GAAC,MAAI,GAC3BZ,mBAAA,CAAiC;IAA7BY,KAAkB,EAAlB;MAAA;IAAA;EAAkB,GAAC,OAAK,GAC5BZ,mBAAA,CAAgC;IAA5BY,KAAkB,EAAlB;MAAA;IAAA;EAAkB,GAAC,MAAI,GAC3BZ,mBAAA,CAAgC;IAA5BY,KAAkB,EAAlB;MAAA;IAAA;EAAkB,GAAC,MAAI,GAC3BZ,mBAAA,CAAgC;IAA5BY,KAAkB,EAAlB;MAAA;IAAA;EAAkB,GAAC,MAAI,GAC3BZ,mBAAA,CAA6B;IAAzBY,KAAiB,EAAjB;MAAA;IAAA;EAAiB,GAAC,IAAE,E,uBAG5BZ,mBAAA,CAqCQ,iB,kBApCNF,mBAAA,CAmCKe,SAAA,QAAAC,WAAA,CAnCuBb,KAAA,CAAAc,QAAQ,GAAxBC,IAAI,EAAEC,KAAK;yBAAvBnB,mBAAA,CAmCK;MAnCkCoB,GAAG,EAAED;IAAK,IAC/CjB,mBAAA,CAAwB,YAAAM,gBAAA,CAAjBW,KAAK,sBACZjB,mBAAA,CAEK,a,gBADHA,mBAAA,CAAsE;MAA/DmB,IAAI,EAAC,MAAM;uCAAUH,IAAI,CAACI,IAAI,GAAAC,MAAA;MAAEC,QAAQ,EAAR,EAAQ;MAACC,WAAW,EAAC;wDAAhCP,IAAI,CAACI,IAAI,E,KAEvCpB,mBAAA,CAOK,a,gBANHA,mBAAA,CAKS;uCALQgB,IAAI,CAACQ,UAAU,GAAAH,MAAA;MAAGI,QAAM,EAAAJ,MAAA,IAAEK,QAAA,CAAAC,gBAAgB,CAACV,KAAK;MAAGK,QAAQ,EAAR;QACpDL,KAAK,Q,cAAnBnB,mBAAA,CAAoD,UAApD8B,WAAoD,EAAX,IAAE,K,sDAC3C9B,mBAAA,CAESe,SAAA,QAAAC,WAAA,CAFkBb,KAAA,CAAA4B,UAAU,EAAtBC,QAAQ;2BAAvBhC,mBAAA,CAES;QAF+BoB,GAAG,EAAEY,QAAQ,CAACC,EAAE;QAAGlC,KAAK,EAAEiC,QAAQ,CAACC;0BACtED,QAAQ,CAACV,IAAI,wBAAAY,WAAA;mGAHHhB,IAAI,CAACQ,UAAU,E,KAOlCxB,mBAAA,CASK,a,gBARHA,mBAAA,CAOS;uCAPQgB,IAAI,CAACiB,WAAW,GAAAZ,MAAA;MAAEC,QAAQ,EAAR;QACjCY,mBAAA,gDAA+C,EAC/CA,mBAAA,+CAA8C,EAChCjB,KAAK,SAASD,IAAI,CAACQ,UAAU,eAAeE,QAAA,CAAAS,yBAAyB,CAAClB,KAAK,M,cAAzFnB,mBAAA,CAAwH,UAAxHsC,WAAwH,EAAX,IAAE,K,sDAC/GtC,mBAAA,CAESe,SAAA,QAAAC,WAAA,CAFqBY,QAAA,CAAAW,gBAAgB,CAACpB,KAAK,GAArCgB,WAAW;2BAA1BnC,mBAAA,CAES;QAF+CoB,GAAG,EAAEe,WAAW,CAACF,EAAE;QAAGlC,KAAK,EAAEoC;0BAChFA,WAAW,CAACb,IAAI,wBAAAkB,WAAA;mFALNtB,IAAI,CAACiB,WAAW,E,KASnCjC,mBAAA,CAEK,a,gBADHA,mBAAA,CAA0F;MAAnFmB,IAAI,EAAC,QAAQ;uCAAUH,IAAI,CAACuB,KAAK,GAAAlB,MAAA;MAAEmB,GAAG,EAAC,GAAG;MAACC,IAAI,EAAC,MAAM;MAACnB,QAAQ,EAAR,EAAQ;MAACC,WAAW,EAAC;yDAArDP,IAAI,CAACuB,KAAK,E,KAE1CvC,mBAAA,CAEK,a,gBADHA,mBAAA,CAA0D;MAAnDmB,IAAI,EAAC,MAAM;uCAAUH,IAAI,CAAC0B,KAAK,GAAArB,MAAA;MAAEE,WAAW,EAAC;yDAAxBP,IAAI,CAAC0B,KAAK,E,KAExC1C,mBAAA,CAEK,a,gBADHA,mBAAA,CAAsE;uCAAnDgB,IAAI,CAAC2B,WAAW,GAAAtB,MAAA;MAAEE,WAAW,EAAC;yDAA9BP,IAAI,CAAC2B,WAAW,E,KAErC3C,mBAAA,CAEK,aADHA,mBAAA,CAAwH;MAA/G4C,OAAK,EAAAvB,MAAA,IAAEK,QAAA,CAAAmB,SAAS,CAAC5B,KAAK;MAAGrB,KAAK,EAAC,uBAAuB;MAACkD,KAAK,EAAC,MAAM;MAAEC,QAAQ,EAAE9C,KAAA,CAAAc,QAAQ,CAACiC,MAAM;OAAO,GAAC,iBAAAC,WAAA,E;wCAOzHjD,mBAAA,CAEM,OAFNkD,WAEM,GADJlD,mBAAA,CAA0E;IAAjE4C,OAAK,EAAAO,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAE1B,QAAA,CAAA2B,MAAA,IAAA3B,QAAA,CAAA2B,MAAA,IAAAD,IAAA,CAAM;IAAExD,KAAK,EAAC,oBAAoB;IAACkD,KAAK,EAAC;KAAO,GAAC,E,GAGnE9C,mBAAA,CAGM,OAHNsD,WAGM,GAFJtD,mBAAA,CAAmE;IAA1D4C,OAAK,EAAAO,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAE1B,QAAA,CAAA6B,YAAA,IAAA7B,QAAA,CAAA6B,YAAA,IAAAH,IAAA,CAAY;IAAExD,KAAK,EAAC;KAAkB,MAAI,G,0BAC1DI,mBAAA,CAA8D;IAA3DwD,IAAI,EAAC,qBAAqB;IAAC5D,KAAK,EAAC;KAAoB,IAAE,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}