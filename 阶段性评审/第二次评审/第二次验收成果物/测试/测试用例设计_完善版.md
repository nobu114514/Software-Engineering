# Litemall商城系统升级测试用例设计文档

## 1. 升级需求分析
### 1.1 商品管理升级需求
| 需求编号 | 需求描述 | 优先级 |
|---------|---------|--------|
| A.1.1 | 同时发布多个商品 | 高 |
| A.1.2 | 商品支持 2 级类别管理 | 高 |
| A.1.3 | 库存为 0 时商品自动下架 | 高 |
| A.1.4 | 商品可通过浏览和搜索方式查找 | 高 |
| A.1.5 | 商品图片支持多张，商品描述支持富媒体 | 中 |

### 1.2 客户升级需求
| 需求编号 | 需求描述 | 优先级 |
|---------|---------|--------|
| A.2.1 | 客户自由注册（用户名、密码、电话、默认交易地点） | 高 |
| A.2.2 | 客户登录后查看历史下单记录 | 高 |
| A.2.3 | 商家查看所有注册客户信息及购买历史 | 高

## 2. 测试用例设计方法
### 2.1 设计思路
本次测试用例设计采用以下方法：
1. 功能分析法：根据每个功能点拆分为多个测试场景
2. 等价类划分：将输入数据分为有效和无效等价类
3. 边界值分析：测试临界值和极限情况
4. 场景法：模拟用户真实操作流程
5. 异常推测法：基于经验推断可能出现的错误场景

### 2.2 测试覆盖策略
正向测试：验证功能正常工作的场景
反向测试：验证系统对错误输入的处理
边界测试：测试系统在极限条件下的表现

## 3. 通用测试用例（前置测试）

### 3.1 基础环境验证测试
#### TC_BASE_001 - 管理员登录测试
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证管理员能否成功登录系统 |
| 测试环境 | 管理后台 |
| 前置条件 | 系统已正常启动，管理员账户已创建 |
| 测试步骤 | 1. 访问管理后台登录页面<br>2. 输入管理员账号：admin<br>3. 输入管理员密码：admin123<br>4. 点击登录按钮 |
| 预期结果 | 1. 登录成功<br>2. 系统跳转到管理后台首页<br>3. 显示管理员欢迎信息 |
| 测试数据 | 用户名：admin<br>密码：admin123

#### TC_BASE_002 - 客户注册前置测试
| 字段 | 内容 |
|------|------|
| 测试目的 | 为后续测试创建测试客户账户 |
| 测试环境 | 前台商城 |
| 前置条件 | 系统已正常启动 |
| 测试步骤 | 1. 访问前台注册页面<br>2. 注册测试客户：小明<br>3. 填写注册信息并提交<br>4. 验证注册成功 |
| 预期结果 | 1. 注册成功<br>2. 系统自动登录 |
| 测试数据 | 用户名：xiaoming<br>密码：Xm@123456<br>电话：13800138001<br>默认交易地点：北京市朝阳区

#### TC_BASE_003 - 上架商品（库存为1）
| 字段 | 内容 |
|------|------|
| 测试目的 | 为后续测试创建商品 |
| 测试环境 | 管理后台 |
| 前置条件 | 管理员已登录 |
| 测试步骤 | 1. 访问管理员后台<br>2. 上架商品：苹果，编码：PHONE001，价格：4599，库存：1 |
| 预期结果 | 1. 商品发布成功<br>2. 商品信息与输入一致 |

## 4. 商品管理模块测试用例

### 4.1 批量发布商品测试
#### TC_GOODS_001 - 批量添加商品（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证系统是否支持同时发布多个商品并正确保存 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功） |
| 测试步骤 | 1. 进入商品管理页面<br>2. 点击 "批量发布" 按钮<br>3. 填写多个商品的基本信息（名称、编码、价格等）<br>4. 点击 "提交" 按钮 |
| 预期结果 | 1. 所有商品发布成功<br>2. 在商品列表中可查看到全部新添加的商品<br>3. 每个商品信息与输入一致 |
| 测试数据 | 商品1：智能手机A，编码：PHONE001，价格：2999，库存：100<br>商品2：平板电脑B，编码：TABLET001，价格：1999，库存：50

#### TC_GOODS_002 - 批量发布商品失败处理（反向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证批量发布时部分商品信息错误的处理机制 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功） |
| 测试步骤 | 1. 进入商品管理页面<br>2. 点击 "批量发布" 按钮<br>3. 填写部分正确、部分错误的商品信息<br>4. 点击 "提交" 按钮 |
| 预期结果 | 1. 系统提示错误信息<br>2. 错误商品不被添加<br>3. 正确商品是否添加取决于系统的事务处理机制 |
| 测试数据 | 商品1（正确）：智能手机A，编码：PHONE002，价格：2999<br>商品2（错误）：，编码：，价格：abc（非数字）

### 4.2 二级类别管理测试
#### TC_GOODS_003 - 创建二级分类（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证系统是否支持创建和管理二级分类 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功） |
| 测试步骤 | 1. 进入分类管理页面<br>2. 创建一级分类<br>3. 基于该一级分类创建二级分类<br>4. 查看分类列表验证层次关系 |
| 预期结果 | 1. 分类创建成功<br>2. 分类列表正确显示层级关系<br>3. 可通过层级结构导航 |
| 测试数据 | 一级分类名称：电子数码<br>二级分类名称：手机配件

#### TC_GOODS_004 - 分类层级验证（边界测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证系统是否正确限制分类层级不超过 2 级 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功）<br>2. 已执行 TC_GOODS_003（存在二级分类） |
| 测试步骤 | 1. 进入分类管理页面<br>2. 尝试基于二级分类（手机配件）创建三级分类<br>3. 查看系统响应 |
| 预期结果 | 1. 系统禁止创建三级分类<br>2. 给出明确提示信息 |

### 4.3 库存管理测试
#### TC_GOODS_005 - 库存为0自动下架（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证当商品库存为 0 时，系统是否自动将商品下架 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功） |
| 测试步骤 | 1. 创建一个库存为 0 的商品<br>2. 尝试上架该商品<br>3. 检查商品状态 |
| 预期结果 | 1. 商品创建成功<br>2. 商品上架失败或立即变为下架状态<br>3. 系统给出提示信息 |
| 测试数据 | 商品名称：零库存测试商品<br>库存数量：0

#### TC_GOODS_006 - 库存减少测试
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证商品销售后库存是否正确减少并触发下架 |
| 测试环境 | 前台商城 + 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员已登录）<br>2. 已执行 TC_BASE_002（小明用户已注册）<br>3. 系统中存在库存为 1 的上架商品 |
| 测试步骤 | 1. 前台用户小明登录系统<br>2. 小明购买该库存为1的商品<br>3. 完成支付流程<br>4. 管理员后台检查该商品状态 |
| 预期结果 | 1. 订单创建成功<br>2. 商品库存减为 0<br>3. 商品自动下架 |
| 测试数据 | 用户：xiaoming（小明）<br>购买商品：智能手机A<br>数量：1

### 4.4 商品查找功能测试
#### TC_GOODS_007 - 浏览查找商品（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证用户是否能通过分类浏览查找商品 |
| 测试环境 | 前台商城 |
| 前置条件 | 1. 已执行 TC_GOODS_003（分类已创建）<br>2. 已执行 TC_GOODS_001（商品已添加） |
| 测试步骤 | 1. 访问前台首页<br>2. 通过左侧分类导航选择 "电子数码" -> "手机配件" 分类<br>3. 查看商品列表 |
| 预期结果 | 1. 正确显示所选分类的商品<br>2. 二级分类商品可正常显示 

#### TC_GOODS_008 - 搜索查找商品（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证用户是否能通过搜索功能查找商品 |
| 测试环境 | 前台商城 |
| 前置条件 | 1. 已执行 TC_GOODS_001（商品已添加） |
| 测试步骤 | 1. 访问前台首页<br>2. 在搜索框输入关键词 "智能手机"<br>3. 点击搜索按钮<br>4. 查看搜索结果 |
| 预期结果 | 1. 正确显示包含关键词的商品（智能手机A）<br>2. 搜索结果符合搜索条件 |
| 测试数据 | 关键词：智能手机、平板

#### TC_GOODS_009 - 搜索空结果测试（边界测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证搜索无结果时的系统处理 |
| 测试环境 | 前台商城 |
| 前置条件 | 无特定前置条件 |
| 测试步骤 | 1. 访问前台首页<br>2. 输入不可能存在的搜索关键词 "不存在的商品123456"<br>3. 点击搜索按钮 |
| 预期结果 | 1. 系统给出 "无结果" 提示<br>2. 页面不会崩溃 |
| 测试数据 | 关键词：不存在的商品123456

### 4.5 商品图片和富媒体描述测试
#### TC_GOODS_010 - 上传多张商品图片（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证系统是否支持上传和显示多张商品图片 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功） |
| 测试步骤 | 1. 进入商品添加页面<br>2. 上传多张商品图片（商品主图、细节图等）<br>3. 保存商品<br>4. 查看商品详情页面 |
| 预期结果 | 1. 所有图片上传成功<br>2. 商品详情页面正确显示所有图片<br>3. 图片可正常切换查看 |
| 测试数据 | 图片1：商品主图.jpg<br>图片2：商品细节图1.jpg<br>图片3：商品细节图2.jpg

#### TC_GOODS_011 - 富媒体商品描述（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证系统是否支持富媒体格式的商品描述 |
| 测试环境 | 管理后台 + 前台商城 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功） |
| 测试步骤 | 1. 进入商品添加页面<br>2. 使用富媒体编辑器添加格式化文本、图片、链接等<br>3. 保存商品<br>4. 前台查看商品详情 |
| 预期结果 | 1. 富媒体内容保存成功<br>2. 前台页面正确显示富媒体格式 

#### TC_GOODS_012 - 图片格式验证（反向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证系统对不支持的图片格式的处理 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功） |
| 测试步骤 | 1. 进入商品添加页面<br>2. 尝试上传不支持的图片格式<br>3. 查看系统响应 |
| 预期结果 | 1. 系统拒绝上传不支持的格式<br>2. 给出明确的错误提示 |
| 测试数据 | 不支持的格式文件：test.psd、test.tiff

## 5. 客户管理模块测试用例

### 5.1 客户注册功能测试
#### TC_CUSTOMER_001 - 客户自由注册（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证客户是否能成功注册系统账户 |
| 测试环境 | 前台商城 |
| 前置条件 | 系统已正常启动 |
| 测试步骤 | 1. 访问注册页面<br>2. 填写完整注册信息（用户名、密码、电话、默认交易地点）<br>3. 点击注册按钮 |
| 预期结果 | 1. 注册成功<br>2. 系统自动登录并显示用户信息<br>3. 用户数据正确保存 |
| 测试数据 | 用户名：zhangwei<br>密码：Zw@654321<br>电话：13900139001<br>默认交易地点：上海市浦东新区

#### TC_CUSTOMER_002 - 注册信息验证（反向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证系统对无效注册信息的验证 |
| 测试环境 | 前台商城 |
| 前置条件 | 系统已正常启动 |
| 测试步骤 | 1. 访问注册页面<br>2. 填写不同类型的无效信息：空用户名、弱密码、无效手机号等<br>3. 点击注册按钮<br>4. 查看系统响应 |
| 预期结果 | 1. 系统拒绝注册<br>2. 给出相应的错误提示信息 |
| 测试数据 | 空用户名、密码：123（弱密码）、电话：123456（无效手机号）

#### TC_CUSTOMER_003 - 重复用户名注册（反向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证系统对重复用户名注册的处理 |
| 测试环境 | 前台商城 |
| 前置条件 | 1. 已执行 TC_BASE_002（小明用户已注册） |
| 测试步骤 | 1. 访问注册页面<br>2. 使用已存在的用户名 "xiaoming" 注册<br>3. 点击注册按钮 |
| 预期结果 | 1. 系统拒绝注册<br>2. 提示 "用户名已存在" |
| 测试数据 | 用户名：xiaoming（已存在）

### 5.2 订单历史查看测试
#### TC_CUSTOMER_004 - 查看历史下单记录（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证登录用户是否能查看自己的订单历史 |
| 测试环境 | 前台商城 |
| 前置条件 | 1. 已执行 TC_BASE_002（小明用户已注册）<br>2. 已执行 TC_GOODS_006（小明用户已有订单） |
| 测试步骤 | 1. 用户小明登录系统<br>2. 进入 "我的订单" 页面<br>3. 查看订单列表 |
| 预期结果 | 1. 正确显示用户小明的订单历史<br>2. 订单状态、商品信息完整<br>3. 可查看订单详情 |

#### TC_CUSTOMER_005 - 订单筛选功能（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证用户是否能按条件筛选订单 |
| 测试环境 | 前台商城 |
| 前置条件 | 1. 已执行 TC_BASE_002（小明用户已注册）<br>2. 小明用户有多种状态的订单 |
| 测试步骤 | 1. 小明用户登录系统<br>2. 进入 "我的订单" 页面<br>3. 使用筛选条件（如：已完成订单）<br>4. 查看筛选结果 |
| 预期结果 | 1. 正确显示符合筛选条件的订单<br>2. 筛选条件无效时给出提示 |

### 5.3 客户信息管理测试
#### TC_CUSTOMER_006 - 商家查看客户信息（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证商家是否能查看所有注册客户信息 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功）<br>2. 已执行 TC_BASE_002（小明用户已注册）<br>3. 已执行 TC_CUSTOMER_001（张伟用户已注册） |
| 测试步骤 | 1. 管理员进入用户管理页面<br>2. 查看客户列表<br>3. 查看小明（xiaoming）的详细信息 |
| 预期结果 | 1. 正确显示所有注册客户列表（包括小明和张伟）<br>2. 客户详细信息完整准确 |

#### TC_CUSTOMER_007 - 客户购买历史查询（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证商家是否能查看客户的购买历史 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功）<br>2. 已执行 TC_BASE_002（小明用户已注册）<br>3. 已执行 TC_GOODS_006（小明用户有购买订单） |
| 测试步骤 | 1. 管理员进入用户管理页面<br>2. 选择客户小明（xiaoming）<br>3. 查看该客户的购买历史 |
| 预期结果 | 1. 正确显示小明的订单历史<br>2. 订单信息完整准确<br>3. 可按条件筛选订单 |

#### TC_CUSTOMER_008 - 客户搜索功能（正向测试）
| 字段 | 内容 |
|------|------|
| 测试目的 | 验证商家是否能通过关键词搜索客户 |
| 测试环境 | 管理后台 |
| 前置条件 | 1. 已执行 TC_BASE_001（管理员登录成功）<br>2. 已执行 TC_BASE_002（小明用户已注册）<br>3. 已执行 TC_CUSTOMER_001（张伟用户已注册） |
| 测试步骤 | 1. 管理员进入用户管理页面<br>2. 在搜索框输入关键词 "小明" 或 "xiaoming"
3. 点击搜索按钮<br>4. 查看搜索结果 |
| 预期结果 | 1. 正确显示符合条件的客户（小明）<br>2. 搜索结果与搜索条件一致 |

## 6. 测试用例依赖关系图

```
TC_BASE_001（管理员登录）
  ├── TC_GOODS_001（批量添加商品）
  ├── TC_GOODS_002（批量发布失败）
  ├── TC_GOODS_003（创建二级分类）
  ├── TC_GOODS_005（库存为0自动下架）
  ├── TC_GOODS_010（上传多张图片）
  ├── TC_GOODS_011（富媒体描述）
  ├── TC_GOODS_012（图片格式验证）
  ├── TC_CUSTOMER_006（查看客户信息）
  ├── TC_CUSTOMER_007（客户购买历史）
  └── TC_CUSTOMER_008（客户搜索）

TC_BASE_002（小明用户注册）
  ├── TC_GOODS_006（库存减少测试）
  ├── TC_CUSTOMER_003（重复用户名注册）
  ├── TC_CUSTOMER_004（查看订单历史）
  └── TC_CUSTOMER_005（订单筛选）

TC_GOODS_003（创建二级分类）
  ├── TC_GOODS_004（分类层级验证）
  └── TC_GOODS_007（浏览查找商品）

TC_GOODS_001（批量添加商品）
  ├── TC_GOODS_007（浏览查找商品）
  └── TC_GOODS_008（搜索查找商品）

TC_GOODS_006（库存减少测试）
  ├── TC_CUSTOMER_004（查看订单历史）
  ├── TC_CUSTOMER_005（订单筛选）
  └── TC_CUSTOMER_007（客户购买历史）

TC_CUSTOMER_001（张伟用户注册）
  └── TC_CUSTOMER_006（查看客户信息）
```

## 7. 测试对象信息汇总

| 测试对象 | 用户名/ID | 角色 | 关联测试用例 |
|---------|----------|------|------------|
| 管理员 | admin | 系统管理员 | TC_BASE_001, TC_GOODS_001-012, TC_CUSTOMER_006-008 |
| 小明 | xiaoming | 注册用户 | TC_BASE_002, TC_GOODS_006, TC_CUSTOMER_003-007 |
| 张伟 | zhangwei | 注册用户 | TC_CUSTOMER_001, TC_CUSTOMER_006, TC_CUSTOMER_008 |
| 智能手机A | PHONE001 | 测试商品 | TC_GOODS_001, TC_GOODS_006, TC_GOODS_008 |
| 电子数码 | - | 一级分类 | TC_GOODS_003, TC_GOODS_007 |
| 手机配件 | - | 二级分类 | TC_GOODS_003, TC_GOODS_004, TC_GOODS_007 |
