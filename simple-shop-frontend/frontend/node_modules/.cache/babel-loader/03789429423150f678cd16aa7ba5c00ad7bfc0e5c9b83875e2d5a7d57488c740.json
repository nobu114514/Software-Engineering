{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nexport default {\n  name: 'SellerSubCategories',\n  data() {\n    return {\n      categories: [],\n      subCategories: [],\n      newSubCategory: {\n        categoryId: '',\n        name: '',\n        description: '',\n        sortOrder: 0\n      },\n      editingSubCategory: null,\n      selectedCategoryFilter: '',\n      loading: true,\n      error: null\n    };\n  },\n  created() {\n    this.fetchCategories();\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        // 使用商家后台专用API端点，使用相对路径避免CORS错误\n        const response = await this.$axios.get('/categories/seller/categories');\n        // 确保categories始终为数组类型\n        this.categories = Array.isArray(response.data?.data) ? response.data.data : [];\n        this.error = null;\n        // 获取一级分类后，再获取二级分类\n        this.fetchSubCategories();\n      } catch (err) {\n        console.error('获取一级分类列表失败:', err);\n        this.error = '获取一级分类列表失败，请稍后重试';\n        // 出错时确保categories为数组\n        this.categories = [];\n        this.loading = false;\n      }\n    },\n    async fetchSubCategories() {\n      try {\n        let url = '/sub-categories/seller/sub-categories';\n        if (this.selectedCategoryFilter) {\n          url = `/sub-categories/seller/sub-categories/category/${this.selectedCategoryFilter}`;\n        }\n        const response = await this.$axios.get(url);\n        // 确保subCategories始终为数组类型\n        this.subCategories = Array.isArray(response.data?.data) ? response.data.data : [];\n        this.error = null;\n      } catch (err) {\n        console.error('获取二级分类列表失败:', err);\n        this.error = '获取二级分类列表失败，请稍后重试';\n        // 出错时确保subCategories为数组\n        this.subCategories = [];\n      } finally {\n        this.loading = false;\n      }\n    },\n    async addSubCategory() {\n      try {\n        // 验证categoryId是否有效\n        if (!this.newSubCategory.categoryId) {\n          this.error = '请选择所属分类';\n          return;\n        }\n\n        // 验证名称是否填写\n        if (!this.newSubCategory.name || this.newSubCategory.name.trim() === '') {\n          this.error = '请输入二级分类名称';\n          return;\n        }\n\n        // 确保categoryId为数字类型，与后端SubCategoryDTO的Long类型匹配\n        const categoryId = Number(this.newSubCategory.categoryId);\n        if (isNaN(categoryId)) {\n          this.error = '无效的分类ID';\n          return;\n        }\n\n        // 构建请求数据，确保与后端SubCategoryDTO格式完全匹配\n        const requestData = {\n          categoryId: categoryId,\n          name: this.newSubCategory.name.trim(),\n          description: this.newSubCategory.description || '',\n          active: true,\n          sortOrder: this.newSubCategory.sortOrder || 0,\n          icon: this.newSubCategory.icon || ''\n        };\n        console.log('提交的二级分类数据:', requestData);\n\n        // 使用商家后台专用API端点\n        const response = await this.$axios.post('/sub-categories/seller/sub-categories', requestData);\n\n        // 处理响应数据，确保subCategories是数组\n        if (Array.isArray(this.subCategories) && response.data?.success && response.data?.data) {\n          this.subCategories.push(response.data.data);\n          // 重置表单\n          this.newSubCategory = {\n            categoryId: '',\n            name: '',\n            description: '',\n            sortOrder: 0\n          };\n        }\n        this.error = null;\n      } catch (err) {\n        console.error('添加二级分类失败:', err);\n        // 显示更详细的错误信息\n        if (err.response) {\n          console.error('错误响应状态:', err.response.status);\n          console.error('错误响应数据:', err.response.data);\n          this.error = `添加二级分类失败: ${err.response.data?.message || '请求被服务器拒绝'}`;\n        } else {\n          this.error = '添加二级分类失败，请稍后重试';\n        }\n      }\n    },\n    async toggleSubCategoryStatus(subCategory) {\n      try {\n        const updatedSubCategory = {\n          ...subCategory,\n          active: !subCategory.active\n        };\n\n        // 使用商家后台专用API端点\n        await this.$axios.put(`/sub-categories/seller/sub-categories/${subCategory.id}`, updatedSubCategory);\n        subCategory.active = !subCategory.active;\n        this.error = null;\n      } catch (err) {\n        console.error('更新二级分类状态失败:', err);\n        this.error = '更新二级分类状态失败，请稍后重试';\n      }\n    },\n    editSubCategory(subCategory) {\n      // 创建一个新对象，避免直接修改原数组中的对象\n      this.editingSubCategory = {\n        ...subCategory\n      };\n    },\n    cancelEdit() {\n      this.editingSubCategory = null;\n    },\n    async updateSubCategory() {\n      try {\n        // 验证categoryId是否有效\n        if (!this.editingSubCategory.categoryId) {\n          this.error = '请选择所属分类';\n          return;\n        }\n\n        // 验证名称是否填写\n        if (!this.editingSubCategory.name || this.editingSubCategory.name.trim() === '') {\n          this.error = '请输入二级分类名称';\n          return;\n        }\n\n        // 确保categoryId为数字类型，与后端SubCategoryDTO的Long类型匹配\n        const categoryId = Number(this.editingSubCategory.categoryId);\n        if (isNaN(categoryId)) {\n          this.error = '无效的分类ID';\n          return;\n        }\n\n        // 构建请求数据，确保与后端SubCategoryDTO格式完全匹配\n        const requestData = {\n          categoryId: categoryId,\n          name: this.editingSubCategory.name.trim(),\n          description: this.editingSubCategory.description || '',\n          active: this.editingSubCategory.active,\n          sortOrder: this.editingSubCategory.sortOrder || 0,\n          icon: this.editingSubCategory.icon || ''\n        };\n        console.log('更新的二级分类数据:', requestData);\n\n        // 使用商家后台专用API端点\n        await this.$axios.put(`/sub-categories/seller/sub-categories/${this.editingSubCategory.id}`, requestData);\n\n        // 更新本地数组中的二级分类，确保subCategories是数组\n        if (Array.isArray(this.subCategories)) {\n          const index = this.subCategories.findIndex(sc => sc.id === this.editingSubCategory.id);\n          if (index !== -1) {\n            this.subCategories[index] = {\n              ...this.editingSubCategory\n            };\n          }\n        }\n        this.editingSubCategory = null;\n        this.error = null;\n      } catch (err) {\n        console.error('更新二级分类失败:', err);\n        this.error = '更新二级分类失败，请稍后重试';\n      }\n    },\n    getCategoryName(categoryId) {\n      const category = this.categories.find(c => c.id === categoryId);\n      return category ? category.name : '-';\n    },\n    onCategoryChange() {\n      // 当选择不同的一级分类时，可以在这里添加额外的处理逻辑\n    },\n    async deleteSubCategory(subCategory) {\n      // 确认删除操作\n      if (confirm(`确定要删除二级分类\"${subCategory.name}\"吗？此操作不可撤销。`)) {\n        try {\n          // 使用正确的API端点\n          const response = await this.$axios.delete(`http://localhost:8081/api/sub-categories/${subCategory.id}`);\n\n          // 从本地数组中移除该二级分类\n          if (Array.isArray(this.subCategories)) {\n            const index = this.subCategories.findIndex(sc => sc.id === subCategory.id);\n            if (index !== -1) {\n              this.subCategories.splice(index, 1);\n            }\n          }\n          this.error = null;\n          console.log('二级分类删除成功:', response.data);\n        } catch (err) {\n          console.error('删除二级分类失败:', err);\n          this.error = `删除二级分类失败: ${err.response?.data?.message || '请求被服务器拒绝'}`;\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","data","categories","subCategories","newSubCategory","categoryId","description","sortOrder","editingSubCategory","selectedCategoryFilter","loading","error","created","fetchCategories","methods","response","$axios","get","Array","isArray","fetchSubCategories","err","console","url","addSubCategory","trim","Number","isNaN","requestData","active","icon","log","post","success","push","status","message","toggleSubCategoryStatus","subCategory","updatedSubCategory","put","id","editSubCategory","cancelEdit","updateSubCategory","index","findIndex","sc","getCategoryName","category","find","c","onCategoryChange","deleteSubCategory","confirm","delete","splice"],"sources":["D:\\game\\SE\\simple-shop-frontend\\frontend\\src\\views\\SellerSubCategories.vue"],"sourcesContent":["<template>\r\n  <div class=\"subcategory-management\">\r\n    <h1>二级分类管理</h1>\r\n    \r\n    <div class=\"card\">\r\n      <h2>添加新二级分类</h2>\r\n      <form @submit.prevent=\"addSubCategory\">\r\n        <div class=\"form-group\">\r\n          <label for=\"categorySelect\">所属一级分类</label>\r\n          <select \r\n            id=\"categorySelect\" \r\n            v-model=\"newSubCategory.categoryId\" \r\n            required\r\n            @change=\"onCategoryChange\"\r\n          >\r\n            <option value=\"\">请选择一级分类</option>\r\n            <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\r\n              {{ category.name }}</option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"subCategoryName\">二级分类名称</label>\r\n          <input \r\n            type=\"text\" \r\n            id=\"subCategoryName\" \r\n            v-model=\"newSubCategory.name\" \r\n            required \r\n            placeholder=\"请输入二级分类名称\"\r\n          >\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"subCategoryDescription\">二级分类描述</label>\r\n          <textarea \r\n            id=\"subCategoryDescription\" \r\n            v-model=\"newSubCategory.description\" \r\n            placeholder=\"请输入二级分类描述\"\r\n          ></textarea>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"subCategorySortOrder\">排序序号</label>\r\n          <input \r\n            type=\"number\" \r\n            id=\"subCategorySortOrder\" \r\n            v-model.number=\"newSubCategory.sortOrder\" \r\n            min=\"0\" \r\n            required\r\n          >\r\n        </div>\r\n        <button type=\"submit\" class=\"btn\">添加二级分类</button>\r\n      </form>\r\n    </div>\r\n    \r\n    <div class=\"card\">\r\n      <h2>二级分类列表</h2>\r\n      \r\n      <div class=\"filter-section\">\r\n        <label for=\"categoryFilter\">按一级分类筛选：</label>\r\n        <select id=\"categoryFilter\" v-model=\"selectedCategoryFilter\" @change=\"fetchSubCategories\">\r\n          <option value=\"\">全部分类</option>\r\n          <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\r\n            {{ category.name }}</option>\r\n        </select>\r\n      </div>\r\n      \r\n      <div v-if=\"loading\" class=\"loading\">加载中...</div>\r\n      <div v-if=\"error\" class=\"alert alert-danger\">{{ error }}</div>\r\n      <div v-if=\"!loading && subCategories.length === 0\" class=\"empty-message\">\r\n        暂无二级分类数据\r\n      </div>\r\n      \r\n      <table v-if=\"!loading && subCategories.length > 0\" class=\"subcategory-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>所属一级分类</th>\r\n            <th>名称</th>\r\n            <th>描述</th>\r\n            <th>排序</th>\r\n            <th>状态</th>\r\n            <th>操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"subCategory in subCategories\" :key=\"subCategory.id\">\r\n            <td>{{ subCategory.id }}</td>\r\n            <td>{{ getCategoryName(subCategory.categoryId) }}</td>\r\n            <td>{{ subCategory.name }}</td>\r\n            <td>{{ subCategory.description }}</td>\r\n            <td>{{ subCategory.sortOrder }}</td>\r\n            <td>\r\n              <span :class=\"subCategory.active ? 'status-active' : 'status-inactive'\">\r\n                {{ subCategory.active ? '启用' : '禁用' }}\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <button \r\n                class=\"btn btn-sm\" \r\n                @click=\"toggleSubCategoryStatus(subCategory)\"\r\n              >\r\n                {{ subCategory.active ? '禁用' : '启用' }}\r\n              </button>\r\n              <button \r\n                class=\"btn btn-sm btn-secondary\" \r\n                @click=\"editSubCategory(subCategory)\"\r\n              >\r\n                编辑\r\n              </button>\r\n              <button \r\n                class=\"btn btn-sm btn-danger\" \r\n                @click=\"deleteSubCategory(subCategory)\"\r\n              >\r\n                删除\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    \r\n    <!-- 编辑二级分类对话框 -->\r\n    <div v-if=\"editingSubCategory\" class=\"modal-overlay\" @click.self=\"cancelEdit\">\r\n      <div class=\"modal\">\r\n        <h3>编辑二级分类</h3>\r\n        <form @submit.prevent=\"updateSubCategory\">\r\n          <div class=\"form-group\">\r\n            <label for=\"editCategoryId\">所属一级分类</label>\r\n            <select \r\n              id=\"editCategoryId\" \r\n              v-model=\"editingSubCategory.categoryId\" \r\n              required\r\n            >\r\n              <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\r\n                {{ category.name }}</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"editName\">二级分类名称</label>\r\n            <input \r\n              type=\"text\" \r\n              id=\"editName\" \r\n              v-model=\"editingSubCategory.name\" \r\n              required\r\n            >\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"editDescription\">二级分类描述</label>\r\n            <textarea \r\n              id=\"editDescription\" \r\n              v-model=\"editingSubCategory.description\"\r\n            ></textarea>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"editSortOrder\">排序序号</label>\r\n            <input \r\n              type=\"number\" \r\n              id=\"editSortOrder\" \r\n              v-model.number=\"editingSubCategory.sortOrder\" \r\n              min=\"0\" \r\n              required\r\n            >\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"submit\" class=\"btn\">更新</button>\r\n            <button type=\"button\" class=\"btn btn-secondary\" @click=\"cancelEdit\">取消</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\nexport default {\r\n  name: 'SellerSubCategories',\r\n  data() {\r\n    return {\r\n      categories: [],\r\n      subCategories: [],\r\n      newSubCategory: {\r\n        categoryId: '',\r\n        name: '',\r\n        description: '',\r\n        sortOrder: 0\r\n      },\r\n      editingSubCategory: null,\r\n      selectedCategoryFilter: '',\r\n      loading: true,\r\n      error: null\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchCategories();\r\n  },\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        // 使用商家后台专用API端点，使用相对路径避免CORS错误\r\n        const response = await this.$axios.get('/categories/seller/categories');\r\n        // 确保categories始终为数组类型\r\n        this.categories = Array.isArray(response.data?.data) ? response.data.data : [];\r\n        this.error = null;\r\n        // 获取一级分类后，再获取二级分类\r\n        this.fetchSubCategories();\r\n      } catch (err) {\r\n        console.error('获取一级分类列表失败:', err);\r\n        this.error = '获取一级分类列表失败，请稍后重试';\r\n        // 出错时确保categories为数组\r\n        this.categories = [];\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    async fetchSubCategories() {\r\n      try {\r\n        let url = '/sub-categories/seller/sub-categories';\r\n        if (this.selectedCategoryFilter) {\r\n          url = `/sub-categories/seller/sub-categories/category/${this.selectedCategoryFilter}`;\r\n        }\r\n        \r\n        const response = await this.$axios.get(url);\r\n        // 确保subCategories始终为数组类型\r\n        this.subCategories = Array.isArray(response.data?.data) ? response.data.data : [];\r\n        this.error = null;\r\n      } catch (err) {\r\n        console.error('获取二级分类列表失败:', err);\r\n        this.error = '获取二级分类列表失败，请稍后重试';\r\n        // 出错时确保subCategories为数组\r\n        this.subCategories = [];\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    async addSubCategory() {\r\n      try {\r\n        // 验证categoryId是否有效\r\n        if (!this.newSubCategory.categoryId) {\r\n          this.error = '请选择所属分类';\r\n          return;\r\n        }\r\n        \r\n        // 验证名称是否填写\r\n        if (!this.newSubCategory.name || this.newSubCategory.name.trim() === '') {\r\n          this.error = '请输入二级分类名称';\r\n          return;\r\n        }\r\n        \r\n        // 确保categoryId为数字类型，与后端SubCategoryDTO的Long类型匹配\r\n        const categoryId = Number(this.newSubCategory.categoryId);\r\n        if (isNaN(categoryId)) {\r\n          this.error = '无效的分类ID';\r\n          return;\r\n        }\r\n        \r\n        // 构建请求数据，确保与后端SubCategoryDTO格式完全匹配\r\n        const requestData = {\r\n          categoryId: categoryId,\r\n          name: this.newSubCategory.name.trim(),\r\n          description: this.newSubCategory.description || '',\r\n          active: true,\r\n          sortOrder: this.newSubCategory.sortOrder || 0,\r\n          icon: this.newSubCategory.icon || ''\r\n        };\r\n        \r\n        console.log('提交的二级分类数据:', requestData);\r\n        \r\n        // 使用商家后台专用API端点\r\n        const response = await this.$axios.post('/sub-categories/seller/sub-categories', requestData);\r\n        \r\n        // 处理响应数据，确保subCategories是数组\r\n        if (Array.isArray(this.subCategories) && response.data?.success && response.data?.data) {\r\n          this.subCategories.push(response.data.data);\r\n          // 重置表单\r\n          this.newSubCategory = {\r\n            categoryId: '',\r\n            name: '',\r\n            description: '',\r\n            sortOrder: 0\r\n          };\r\n        }\r\n        \r\n        this.error = null;\r\n      } catch (err) {\r\n        console.error('添加二级分类失败:', err);\r\n        // 显示更详细的错误信息\r\n        if (err.response) {\r\n          console.error('错误响应状态:', err.response.status);\r\n          console.error('错误响应数据:', err.response.data);\r\n          this.error = `添加二级分类失败: ${err.response.data?.message || '请求被服务器拒绝'}`;\r\n        } else {\r\n          this.error = '添加二级分类失败，请稍后重试';\r\n        }\r\n      }\r\n    },\r\n    \r\n    async toggleSubCategoryStatus(subCategory) {\r\n      try {\r\n        const updatedSubCategory = {\r\n          ...subCategory,\r\n          active: !subCategory.active\r\n        };\r\n        \r\n        // 使用商家后台专用API端点\r\n        await this.$axios.put(`/sub-categories/seller/sub-categories/${subCategory.id}`, updatedSubCategory);\r\n        subCategory.active = !subCategory.active;\r\n        this.error = null;\r\n      } catch (err) {\r\n        console.error('更新二级分类状态失败:', err);\r\n        this.error = '更新二级分类状态失败，请稍后重试';\r\n      }\r\n    },\r\n    \r\n    editSubCategory(subCategory) {\r\n      // 创建一个新对象，避免直接修改原数组中的对象\r\n      this.editingSubCategory = { ...subCategory };\r\n    },\r\n    \r\n    cancelEdit() {\r\n      this.editingSubCategory = null;\r\n    },\r\n    \r\n    async updateSubCategory() {\r\n      try {\r\n        // 验证categoryId是否有效\r\n        if (!this.editingSubCategory.categoryId) {\r\n          this.error = '请选择所属分类';\r\n          return;\r\n        }\r\n        \r\n        // 验证名称是否填写\r\n        if (!this.editingSubCategory.name || this.editingSubCategory.name.trim() === '') {\r\n          this.error = '请输入二级分类名称';\r\n          return;\r\n        }\r\n        \r\n        // 确保categoryId为数字类型，与后端SubCategoryDTO的Long类型匹配\r\n        const categoryId = Number(this.editingSubCategory.categoryId);\r\n        if (isNaN(categoryId)) {\r\n          this.error = '无效的分类ID';\r\n          return;\r\n        }\r\n        \r\n        // 构建请求数据，确保与后端SubCategoryDTO格式完全匹配\r\n        const requestData = {\r\n          categoryId: categoryId,\r\n          name: this.editingSubCategory.name.trim(),\r\n          description: this.editingSubCategory.description || '',\r\n          active: this.editingSubCategory.active,\r\n          sortOrder: this.editingSubCategory.sortOrder || 0,\r\n          icon: this.editingSubCategory.icon || ''\r\n        };\r\n        \r\n        console.log('更新的二级分类数据:', requestData);\r\n        \r\n        // 使用商家后台专用API端点\r\n        await this.$axios.put(`/sub-categories/seller/sub-categories/${this.editingSubCategory.id}`, requestData);\r\n        \r\n        // 更新本地数组中的二级分类，确保subCategories是数组\r\n        if (Array.isArray(this.subCategories)) {\r\n          const index = this.subCategories.findIndex(sc => sc.id === this.editingSubCategory.id);\r\n          if (index !== -1) {\r\n            this.subCategories[index] = { ...this.editingSubCategory };\r\n          }\r\n        }\r\n        \r\n        this.editingSubCategory = null;\r\n        this.error = null;\r\n      } catch (err) {\r\n        console.error('更新二级分类失败:', err);\r\n        this.error = '更新二级分类失败，请稍后重试';\r\n      }\r\n    },\r\n\r\n    getCategoryName(categoryId) {\r\n      const category = this.categories.find(c => c.id === categoryId);\r\n      return category ? category.name : '-';\r\n    },\r\n    \r\n    onCategoryChange() {\r\n      // 当选择不同的一级分类时，可以在这里添加额外的处理逻辑\r\n    },\r\n    \r\n    async deleteSubCategory(subCategory) {\r\n      // 确认删除操作\r\n      if (confirm(`确定要删除二级分类\"${subCategory.name}\"吗？此操作不可撤销。`)) {\r\n        try {\r\n          // 使用正确的API端点\r\n          const response = await this.$axios.delete(`http://localhost:8081/api/sub-categories/${subCategory.id}`);\r\n          \r\n          // 从本地数组中移除该二级分类\r\n          if (Array.isArray(this.subCategories)) {\r\n            const index = this.subCategories.findIndex(sc => sc.id === subCategory.id);\r\n            if (index !== -1) {\r\n              this.subCategories.splice(index, 1);\r\n            }\r\n          }\r\n          \r\n          this.error = null;\r\n          console.log('二级分类删除成功:', response.data);\r\n        } catch (err) {\r\n          console.error('删除二级分类失败:', err);\r\n          this.error = `删除二级分类失败: ${err.response?.data?.message || '请求被服务器拒绝'}`;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.subcategory-management {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\nh1 {\r\n  color: #E02E24;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card {\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nh2 {\r\n  color: #333;\r\n  margin-bottom: 15px;\r\n  border-bottom: 1px solid #eee;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: 500;\r\n}\r\n\r\n.form-group input,\r\n.form-group textarea,\r\n.form-group select {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.form-group textarea {\r\n  resize: vertical;\r\n  min-height: 80px;\r\n}\r\n\r\n.filter-section {\r\n  margin-bottom: 15px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.filter-section label {\r\n  font-weight: 500;\r\n  min-width: 120px;\r\n}\r\n\r\n.filter-section select {\r\n  padding: 6px 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  flex: 1;\r\n  max-width: 300px;\r\n}\r\n\r\n.btn {\r\n  display: inline-block;\r\n  padding: 8px 16px;\r\n  background-color: #E02E24;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s;\r\n}\r\n\r\n.btn:hover {\r\n  background-color: #c82333;\r\n}\r\n\r\n.btn-sm {\r\n  padding: 6px 12px;\r\n  font-size: 13px;\r\n  margin-right: 5px;\r\n}\r\n\r\n.btn-secondary {\r\n  background-color: #6c757d;\r\n}\r\n\r\n.btn-secondary:hover {\r\n  background-color: #545b62;\r\n}\r\n\r\n.btn-danger {\r\n  background-color: #dc3545;\r\n}\r\n\r\n.btn-danger:hover {\r\n  background-color: #c82333;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #666;\r\n}\r\n\r\n.alert {\r\n  padding: 12px;\r\n  margin-bottom: 15px;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n}\r\n\r\n.alert-danger {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n  border: 1px solid #f5c6cb;\r\n}\r\n\r\n.empty-message {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: #999;\r\n  font-style: italic;\r\n}\r\n\r\n.subcategory-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 15px;\r\n}\r\n\r\n.subcategory-table th,\r\n.subcategory-table td {\r\n  padding: 12px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.subcategory-table th {\r\n  background-color: #f8f9fa;\r\n  font-weight: 600;\r\n}\r\n\r\n.subcategory-table tr:hover {\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.status-active {\r\n  color: #28a745;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-inactive {\r\n  color: #dc3545;\r\n  font-weight: 500;\r\n}\r\n\r\n/* 模态框样式 */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal {\r\n  background: white;\r\n  border-radius: 8px;\r\n  padding: 25px;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  box-shadow: 0 4px 6px rgba(0,0,0,0.1);\r\n}\r\n\r\n.modal h3 {\r\n  margin-top: 0;\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: flex-end;\r\n  margin-top: 20px;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}